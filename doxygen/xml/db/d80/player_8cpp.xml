<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="db/d80/player_8cpp" kind="file" language="C++">
    <compoundname>player.cpp</compoundname>
    <includes refid="d3/d62/player_8h" local="yes">player.h</includes>
    <includes refid="d7/d7f/log_8h" local="yes">../log/log.h</includes>
    <includes refid="d1/da2/unit_8h" local="yes">../unit/unit.h</includes>
    <includes refid="d7/dfc/unit__type_8h" local="yes">../unit/unit_type.h</includes>
    <includes refid="d5/d77/math__constants_8h" local="yes">../util/math_constants.h</includes>
    <includes refid="de/deb/team_8h" local="yes">team.h</includes>
    <incdepgraph>
      <node id="10212">
        <label>list</label>
      </node>
      <node id="10229">
        <label>../util/language.h</label>
        <link refid="d8/dce/language_8h"/>
      </node>
      <node id="10189">
        <label>atomic</label>
      </node>
      <node id="10285">
        <label>../unit/unit_type.h</label>
        <link refid="d7/dfc/unit__type_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10248" relation="include">
        </childnode>
        <childnode refid="10286" relation="include">
        </childnode>
        <childnode refid="10282" relation="include">
        </childnode>
      </node>
      <node id="10275">
        <label>../util/timing.h</label>
        <link refid="db/d41/timing_8h"/>
        <childnode refid="10200" relation="include">
        </childnode>
      </node>
      <node id="10268">
        <label>../log/log.h</label>
        <link refid="d7/d7f/log_8h"/>
        <childnode refid="10214" relation="include">
        </childnode>
        <childnode refid="10199" relation="include">
        </childnode>
      </node>
      <node id="10209">
        <label>iomanip</label>
      </node>
      <node id="10190">
        <label>functional</label>
      </node>
      <node id="10234">
        <label>fslike/native.h</label>
        <link refid="d3/d0f/fslike_2native_8h"/>
      </node>
      <node id="10270">
        <label>queue</label>
      </node>
      <node id="10241">
        <label>limits</label>
      </node>
      <node id="10269">
        <label>../unit/unit.h</label>
        <link refid="d1/da2/unit_8h"/>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10213" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10270" relation="include">
        </childnode>
        <childnode refid="10248" relation="include">
        </childnode>
        <childnode refid="10271" relation="include">
        </childnode>
        <childnode refid="10273" relation="include">
        </childnode>
        <childnode refid="10274" relation="include">
        </childnode>
        <childnode refid="10275" relation="include">
        </childnode>
        <childnode refid="10276" relation="include">
        </childnode>
        <childnode refid="10278" relation="include">
        </childnode>
        <childnode refid="10282" relation="include">
        </childnode>
        <childnode refid="10283" relation="include">
        </childnode>
        <childnode refid="10281" relation="include">
        </childnode>
      </node>
      <node id="10265">
        <label>population_tracker.h</label>
        <link refid="d4/d3e/population__tracker_8h"/>
      </node>
      <node id="10186">
        <label>../job/job.h</label>
        <link refid="d3/d6a/job_8h"/>
        <childnode refid="10187" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10188" relation="include">
        </childnode>
      </node>
      <node id="10264">
        <label>QObject</label>
      </node>
      <node id="10200">
        <label>cstdint</label>
      </node>
      <node id="10206">
        <label>externalsstream.h</label>
        <link refid="dc/dcf/externalsstream_8h"/>
        <childnode refid="10194" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
      </node>
      <node id="10286">
        <label>../gamestate/cost.h</label>
        <link refid="d3/d8d/cost_8h"/>
        <childnode refid="10266" relation="include">
        </childnode>
      </node>
      <node id="10198">
        <label>signal.h</label>
        <link refid="d8/d39/signal_8h"/>
        <childnode refid="10198" relation="include">
        </childnode>
      </node>
      <node id="10243">
        <label>misc.h</label>
        <link refid="d4/d08/misc_8h"/>
        <childnode refid="10238" relation="include">
        </childnode>
        <childnode refid="10244" relation="include">
        </childnode>
        <childnode refid="10240" relation="include">
        </childnode>
        <childnode refid="10245" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10193" relation="include">
        </childnode>
        <childnode refid="10196" relation="include">
        </childnode>
      </node>
      <node id="10246">
        <label>coord_nese.gen.h</label>
      </node>
      <node id="10219">
        <label>types.h</label>
        <link refid="da/d65/job_2types_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
      </node>
      <node id="10235">
        <label>../coord/chunk.h</label>
        <link refid="dd/dd5/chunk_8h"/>
        <childnode refid="10236" relation="include">
        </childnode>
        <childnode refid="10246" relation="include">
        </childnode>
        <childnode refid="10247" relation="include">
        </childnode>
      </node>
      <node id="10224">
        <label>../assetmanager.h</label>
        <link refid="d0/d45/assetmanager_8h"/>
        <childnode refid="10201" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10225" relation="include">
        </childnode>
      </node>
      <node id="10228">
        <label>functional.h</label>
        <link refid="d8/dea/functional_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10213" relation="include">
        </childnode>
        <childnode refid="10196" relation="include">
        </childnode>
        <childnode refid="10229" relation="include">
        </childnode>
        <childnode refid="10230" relation="include">
        </childnode>
        <childnode refid="10231" relation="include">
        </childnode>
      </node>
      <node id="10278">
        <label>attribute.h</label>
        <link refid="d3/d7c/attribute_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10279" relation="include">
        </childnode>
        <childnode refid="10238" relation="include">
        </childnode>
        <childnode refid="10254" relation="include">
        </childnode>
        <childnode refid="10280" relation="include">
        </childnode>
        <childnode refid="10274" relation="include">
        </childnode>
        <childnode refid="10266" relation="include">
        </childnode>
        <childnode refid="10281" relation="include">
        </childnode>
      </node>
      <node id="10248">
        <label>../coord/phys.h</label>
        <link refid="d0/d8a/phys_8h"/>
        <childnode refid="10243" relation="include">
        </childnode>
        <childnode refid="10249" relation="include">
        </childnode>
        <childnode refid="10236" relation="include">
        </childnode>
        <childnode refid="10246" relation="include">
        </childnode>
        <childnode refid="10247" relation="include">
        </childnode>
      </node>
      <node id="10240">
        <label>cmath</label>
      </node>
      <node id="10220">
        <label>../gamedata/gamedata.gen.h</label>
      </node>
      <node id="10195">
        <label>stdexcept</label>
      </node>
      <node id="10230">
        <label>exctranslate.h</label>
        <link refid="dd/d5f/exctranslate_8h"/>
        <childnode refid="10193" relation="include">
        </childnode>
      </node>
      <node id="10267">
        <label>score.h</label>
        <link refid="dd/df8/score_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10266" relation="include">
        </childnode>
      </node>
      <node id="10208">
        <label>cstdarg</label>
      </node>
      <node id="10180">
        <label>string</label>
      </node>
      <node id="10211">
        <label>logsink.h</label>
        <link refid="d3/d4e/logsink_8h"/>
        <childnode refid="10212" relation="include">
        </childnode>
        <childnode refid="10213" relation="include">
        </childnode>
        <childnode refid="10214" relation="include">
        </childnode>
      </node>
      <node id="10252">
        <label>../coord/pixel.h</label>
        <link refid="dd/dcd/pixel_8h"/>
        <childnode refid="10253" relation="include">
        </childnode>
        <childnode refid="10236" relation="include">
        </childnode>
      </node>
      <node id="10279">
        <label>map</label>
      </node>
      <node id="10284">
        <label>unordered_set</label>
      </node>
      <node id="10280">
        <label>../gamedata/unit.gen.h</label>
      </node>
      <node id="10185">
        <label>game_spec.h</label>
        <link refid="d4/d97/game__spec_8h"/>
        <childnode refid="10186" relation="include">
        </childnode>
        <childnode refid="10220" relation="include">
        </childnode>
        <childnode refid="10221" relation="include">
        </childnode>
        <childnode refid="10222" relation="include">
        </childnode>
        <childnode refid="10261" relation="include">
        </childnode>
        <childnode refid="10262" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10264" relation="include">
        </childnode>
      </node>
      <node id="10273">
        <label>../log/logsource.h</label>
        <link refid="d4/dda/logsource_8h"/>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10199" relation="include">
        </childnode>
      </node>
      <node id="10187">
        <label>exception</label>
      </node>
      <node id="10192">
        <label>stddef.h</label>
      </node>
      <node id="10263">
        <label>fstream</label>
      </node>
      <node id="10242">
        <label>ostream</label>
      </node>
      <node id="10282">
        <label>attributes.h</label>
        <link refid="da/d6e/attributes_8h"/>
        <childnode refid="10279" relation="include">
        </childnode>
        <childnode refid="10278" relation="include">
        </childnode>
      </node>
      <node id="10287">
        <label>../util/math_constants.h</label>
        <link refid="d5/d77/math__constants_8h"/>
        <childnode refid="10241" relation="include">
        </childnode>
      </node>
      <node id="10199">
        <label>../log/message.h</label>
        <link refid="d2/d0d/message_8h"/>
        <childnode refid="10200" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10201" relation="include">
        </childnode>
        <childnode refid="10202" relation="include">
        </childnode>
        <childnode refid="10204" relation="include">
        </childnode>
        <childnode refid="10211" relation="include">
        </childnode>
        <childnode refid="10214" relation="include">
        </childnode>
      </node>
      <node id="10244">
        <label>limits.h</label>
      </node>
      <node id="10259">
        <label>shader/shader.h</label>
        <link refid="d2/d22/shader_2shader_8h"/>
        <childnode refid="10260" relation="include">
        </childnode>
        <childnode refid="10256" relation="include">
        </childnode>
      </node>
      <node id="10215">
        <label>../util/enum.h</label>
        <link refid="d0/d9b/enum_8h"/>
        <childnode refid="10194" relation="include">
        </childnode>
        <childnode refid="10216" relation="include">
        </childnode>
        <childnode refid="10196" relation="include">
        </childnode>
      </node>
      <node id="10247">
        <label>coord_neseup.gen.h</label>
      </node>
      <node id="10218">
        <label>job_state_base.h</label>
        <link refid="d3/d8b/job__state__base_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10219" relation="include">
        </childnode>
      </node>
      <node id="10272">
        <label>SDL2/SDL.h</label>
      </node>
      <node id="10182">
        <label>civilisation.h</label>
        <link refid="d6/db2/civilisation_8h"/>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10185" relation="include">
        </childnode>
      </node>
      <node id="10232">
        <label>file.h</label>
        <link refid="d2/d4d/file_8h"/>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10233" relation="include">
        </childnode>
        <childnode refid="10226" relation="include">
        </childnode>
      </node>
      <node id="10233">
        <label>filelike/filelike.h</label>
        <link refid="d7/db5/filelike_8h"/>
        <childnode refid="10194" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10196" relation="include">
        </childnode>
      </node>
      <node id="10216">
        <label>typeinfo</label>
      </node>
      <node id="10277">
        <label>bitset</label>
      </node>
      <node id="10253">
        <label>coord_xy.gen.h</label>
      </node>
      <node id="10288">
        <label>team.h</label>
        <link refid="de/deb/team_8h"/>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10267" relation="include">
        </childnode>
      </node>
      <node id="10222">
        <label>../terrain/terrain.h</label>
        <link refid="d8/db6/terrain_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10192" relation="include">
        </childnode>
        <childnode refid="10223" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10224" relation="include">
        </childnode>
        <childnode refid="10235" relation="include">
        </childnode>
        <childnode refid="10248" relation="include">
        </childnode>
        <childnode refid="10252" relation="include">
        </childnode>
        <childnode refid="10254" relation="include">
        </childnode>
        <childnode refid="10255" relation="include">
        </childnode>
        <childnode refid="10243" relation="include">
        </childnode>
      </node>
      <node id="10281">
        <label>unit_container.h</label>
        <link refid="d5/ddb/unit__container_8h"/>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10254" relation="include">
        </childnode>
        <childnode refid="10271" relation="include">
        </childnode>
        <childnode refid="10275" relation="include">
        </childnode>
      </node>
      <node id="10276">
        <label>ability.h</label>
        <link refid="df/d23/ability_8h"/>
        <childnode refid="10277" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10205" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10248" relation="include">
        </childnode>
        <childnode refid="10266" relation="include">
        </childnode>
      </node>
      <node id="10283">
        <label>command.h</label>
        <link refid="d0/d09/command_8h"/>
        <childnode refid="10284" relation="include">
        </childnode>
        <childnode refid="10248" relation="include">
        </childnode>
        <childnode refid="10276" relation="include">
        </childnode>
      </node>
      <node id="10184">
        <label>vector</label>
      </node>
      <node id="10197">
        <label>ciso646</label>
      </node>
      <node id="10237">
        <label>../util/fixed_point.h</label>
        <link refid="de/d62/fixed__point_8h"/>
        <childnode refid="10238" relation="include">
        </childnode>
        <childnode refid="10239" relation="include">
        </childnode>
        <childnode refid="10240" relation="include">
        </childnode>
        <childnode refid="10209" relation="include">
        </childnode>
        <childnode refid="10241" relation="include">
        </childnode>
        <childnode refid="10242" relation="include">
        </childnode>
        <childnode refid="10205" relation="include">
        </childnode>
        <childnode refid="10243" relation="include">
        </childnode>
      </node>
      <node id="10249">
        <label>../util/hash.h</label>
        <link refid="db/dfb/hash_8h"/>
        <childnode refid="10203" relation="include">
        </childnode>
        <childnode refid="10250" relation="include">
        </childnode>
        <childnode refid="10251" relation="include">
        </childnode>
      </node>
      <node id="10227">
        <label>defs.h</label>
        <link refid="d5/d64/defs_8h"/>
      </node>
      <node id="10193">
        <label>../error/error.h</label>
        <link refid="d7/dce/error_2error_8h"/>
        <childnode refid="10194" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10195" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10196" relation="include">
        </childnode>
        <childnode refid="10199" relation="include">
        </childnode>
      </node>
      <node id="10250">
        <label>array</label>
      </node>
      <node id="10210">
        <label>sstream</label>
      </node>
      <node id="10274">
        <label>../terrain/terrain_object.h</label>
        <link refid="d0/d94/terrain__object_8h"/>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10192" relation="include">
        </childnode>
        <childnode refid="10254" relation="include">
        </childnode>
        <childnode refid="10248" relation="include">
        </childnode>
      </node>
      <node id="10262">
        <label>../util/csv.h</label>
        <link refid="d3/d8e/csv_8h"/>
        <childnode refid="10203" relation="include">
        </childnode>
        <childnode refid="10245" relation="include">
        </childnode>
        <childnode refid="10263" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10193" relation="include">
        </childnode>
        <childnode refid="10196" relation="include">
        </childnode>
        <childnode refid="10234" relation="include">
        </childnode>
        <childnode refid="10225" relation="include">
        </childnode>
      </node>
      <node id="10256">
        <label>epoxy/gl.h</label>
      </node>
      <node id="10257">
        <label>gamedata/texture.gen.h</label>
      </node>
      <node id="10231">
        <label>setup.h</label>
        <link refid="d7/df7/setup_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10196" relation="include">
        </childnode>
      </node>
      <node id="10179">
        <label>player.h</label>
        <link refid="d3/d62/player_8h"/>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10181" relation="include">
        </childnode>
        <childnode refid="10182" relation="include">
        </childnode>
        <childnode refid="10265" relation="include">
        </childnode>
        <childnode refid="10266" relation="include">
        </childnode>
        <childnode refid="10267" relation="include">
        </childnode>
      </node>
      <node id="10196">
        <label>../util/compiler.h</label>
        <link refid="d4/dd1/compiler_8h"/>
        <childnode refid="10197" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10198" relation="include">
        </childnode>
      </node>
      <node id="10203">
        <label>cstdlib</label>
      </node>
      <node id="10254">
        <label>../coord/tile.h</label>
        <link refid="da/dce/tile_8h"/>
        <childnode refid="10236" relation="include">
        </childnode>
        <childnode refid="10246" relation="include">
        </childnode>
        <childnode refid="10247" relation="include">
        </childnode>
        <childnode refid="10243" relation="include">
        </childnode>
        <childnode refid="10249" relation="include">
        </childnode>
      </node>
      <node id="10214">
        <label>level.h</label>
        <link refid="de/d09/level_8h"/>
        <childnode refid="10215" relation="include">
        </childnode>
      </node>
      <node id="10194">
        <label>iostream</label>
      </node>
      <node id="10202">
        <label>../util/constexpr.h</label>
        <link refid="d1/d06/constexpr_8h"/>
        <childnode refid="10203" relation="include">
        </childnode>
      </node>
      <node id="10226">
        <label>../pyinterface/pyobject.h</label>
        <link refid="d2/d4b/pyobject_8h"/>
        <childnode refid="10200" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10227" relation="include">
        </childnode>
        <childnode refid="10228" relation="include">
        </childnode>
      </node>
      <node id="10255">
        <label>../texture.h</label>
        <link refid="df/dba/texture_8h"/>
        <childnode refid="10256" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10257" relation="include">
        </childnode>
        <childnode refid="10252" relation="include">
        </childnode>
        <childnode refid="10254" relation="include">
        </childnode>
        <childnode refid="10258" relation="include">
        </childnode>
        <childnode refid="10259" relation="include">
        </childnode>
        <childnode refid="10225" relation="include">
        </childnode>
      </node>
      <node id="10207">
        <label>strings.h</label>
        <link refid="d6/d90/strings_8h"/>
        <childnode refid="10208" relation="include">
        </childnode>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10209" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10210" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
      </node>
      <node id="10181">
        <label>unordered_map</label>
      </node>
      <node id="10239">
        <label>climits</label>
      </node>
      <node id="10213">
        <label>mutex</label>
      </node>
      <node id="10178">
        <label>/mnt/c/Users/Jameson/Desktop/git/openage-new-doc-system/libopenage/gamestate/player.cpp</label>
        <link refid="db/d80/player_8cpp"/>
        <childnode refid="10179" relation="include">
        </childnode>
        <childnode refid="10268" relation="include">
        </childnode>
        <childnode refid="10269" relation="include">
        </childnode>
        <childnode refid="10285" relation="include">
        </childnode>
        <childnode refid="10287" relation="include">
        </childnode>
        <childnode refid="10288" relation="include">
        </childnode>
      </node>
      <node id="10261">
        <label>../unit/unit_texture.h</label>
        <link refid="dd/dde/unit__texture_8h"/>
        <childnode refid="10200" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10248" relation="include">
        </childnode>
        <childnode refid="10221" relation="include">
        </childnode>
      </node>
      <node id="10191">
        <label>../util/thread_id.h</label>
        <link refid="d2/d4c/thread__id_8h"/>
        <childnode refid="10192" relation="include">
        </childnode>
      </node>
      <node id="10271">
        <label>../handlers.h</label>
        <link refid="d0/dfb/handlers_8h"/>
        <childnode refid="10272" relation="include">
        </childnode>
        <childnode refid="10252" relation="include">
        </childnode>
      </node>
      <node id="10236">
        <label>declarations.h</label>
        <link refid="db/d40/declarations_8h"/>
        <childnode refid="10200" relation="include">
        </childnode>
        <childnode refid="10237" relation="include">
        </childnode>
      </node>
      <node id="10204">
        <label>../util/stringformatter.h</label>
        <link refid="de/d65/stringformatter_8h"/>
        <childnode refid="10189" relation="include">
        </childnode>
        <childnode refid="10183" relation="include">
        </childnode>
        <childnode refid="10205" relation="include">
        </childnode>
        <childnode refid="10196" relation="include">
        </childnode>
        <childnode refid="10206" relation="include">
        </childnode>
        <childnode refid="10207" relation="include">
        </childnode>
      </node>
      <node id="10205">
        <label>type_traits</label>
      </node>
      <node id="10223">
        <label>set</label>
      </node>
      <node id="10201">
        <label>config.h</label>
      </node>
      <node id="10238">
        <label>algorithm</label>
      </node>
      <node id="10188">
        <label>typed_job_state_base.h</label>
        <link refid="da/d6c/typed__job__state__base_8h"/>
        <childnode refid="10189" relation="include">
        </childnode>
        <childnode refid="10187" relation="include">
        </childnode>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10191" relation="include">
        </childnode>
        <childnode refid="10193" relation="include">
        </childnode>
        <childnode refid="10217" relation="include">
        </childnode>
        <childnode refid="10218" relation="include">
        </childnode>
        <childnode refid="10219" relation="include">
        </childnode>
      </node>
      <node id="10225">
        <label>util/path.h</label>
        <link refid="d1/d11/util_2path_8h"/>
        <childnode refid="10180" relation="include">
        </childnode>
        <childnode refid="10184" relation="include">
        </childnode>
        <childnode refid="10226" relation="include">
        </childnode>
        <childnode refid="10232" relation="include">
        </childnode>
        <childnode refid="10234" relation="include">
        </childnode>
      </node>
      <node id="10258">
        <label>shader/program.h</label>
        <link refid="d1/dea/program_8h"/>
        <childnode refid="10256" relation="include">
        </childnode>
      </node>
      <node id="10245">
        <label>cstring</label>
      </node>
      <node id="10221">
        <label>../gamedata/graphic.gen.h</label>
      </node>
      <node id="10266">
        <label>resource.h</label>
        <link refid="df/d9c/gamestate_2resource_8h"/>
        <childnode refid="10190" relation="include">
        </childnode>
        <childnode refid="10180" relation="include">
        </childnode>
      </node>
      <node id="10183">
        <label>memory</label>
      </node>
      <node id="10260">
        <label>initializer_list</label>
      </node>
      <node id="10251">
        <label>typeindex</label>
      </node>
      <node id="10217">
        <label>job_aborted_exception.h</label>
        <link refid="df/d29/job__aborted__exception_8h"/>
        <childnode refid="10195" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innernamespace refid="da/d23/namespaceopenage">openage</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>2015-2017<sp/>the<sp/>openage<sp/>authors.<sp/>See<sp/>copying.md<sp/>for<sp/>legal<sp/>info.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="d3/d62/player_8h" kindref="compound">player.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../log/log.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../unit/unit.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../unit/unit_type.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../util/math_constants.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="de/deb/team_8h" kindref="compound">team.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="da/d23/namespaceopenage" kindref="compound">openage</ref><sp/>{</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14" refid="d8/d47/classopenage_1_1_player_1aa0bbbf96f0765ac2e2cd242302c86c1a" refkind="member"><highlight class="normal"><ref refid="d8/d47/classopenage_1_1_player_1aa0bbbf96f0765ac2e2cd242302c86c1a" kindref="member">Player::Player</ref>(<ref refid="de/d7a/classopenage_1_1_civilisation" kindref="compound">Civilisation</ref><sp/>*civ,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>number,<sp/>std::string<sp/>name)</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/>:</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>player_number{number},</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d47/classopenage_1_1_player_1a4abf1f98ff6f6b42147646d13008475c" kindref="member">color</ref>{number},</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d47/classopenage_1_1_player_1a310acdae5a61cb9fa1f1e77ce2fcea40" kindref="member">civ</ref>{<ref refid="d8/d47/classopenage_1_1_player_1a310acdae5a61cb9fa1f1e77ce2fcea40" kindref="member">civ</ref>},</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d47/classopenage_1_1_player_1aa216130fcaccd6e6739868ae59bbb426" kindref="member">name</ref>{<ref refid="d8/d47/classopenage_1_1_player_1aa216130fcaccd6e6739868ae59bbb426" kindref="member">name</ref>},</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d47/classopenage_1_1_player_1a49e6eb4d6794785417435205a53ae5cb" kindref="member">team</ref>{</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d47/classopenage_1_1_player_1a296fc88baa2fa4d9d79e151edb2c4983" kindref="member">population</ref>{0,<sp/>200},<sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>change,<sp/>get<sp/>population<sp/>cap<sp/>max<sp/>from<sp/>game<sp/>options</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d47/classopenage_1_1_player_1a4672ffecb8a94271a0bf57121889f614" kindref="member">score</ref>{</highlight><highlight class="keyword">this</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d8/d47/classopenage_1_1_player_1adef32e0454fc4063bcb2555efd0aa12a" kindref="member">age</ref>{1}<sp/>{<sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>change,<sp/>get<sp/>starting<sp/>age<sp/>from<sp/>game<sp/>options</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>starting<sp/>resources</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>change,<sp/>get<sp/>starting<sp/>resources<sp/>from<sp/>game<sp/>options</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1aa6aa8b88cbacb1e21f047ef7247ecf26" kindref="member">set_all</ref>(1000);</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>change,<sp/>get<sp/>starting<sp/>resources<sp/>capacity<sp/>from<sp/>game<sp/>options<sp/>or<sp/>nyan</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1aa946fbe10a693141b1743b25efe3b752" kindref="member">resources_capacity</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1aa6aa8b88cbacb1e21f047ef7247ecf26" kindref="member">set_all</ref>(<ref refid="df/dc9/namespaceopenage_1_1math_1ad9eeb53dc7ad24b525923f7eeca9f37a" kindref="member">math::DOUBLE_INF</ref><sp/>/<sp/>2);<sp/></highlight><highlight class="comment">//<sp/>half<sp/>to<sp/>avoid<sp/>overflows</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" kindref="member">on_resources_change</ref>();</highlight></codeline>
<codeline lineno="30"><highlight class="normal">}</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32" refid="d8/d47/classopenage_1_1_player_1a1b907e14fdbcb176ed179f7d0751de76" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a1b907e14fdbcb176ed179f7d0751de76" kindref="member">Player::operator ==</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player" kindref="compound">Player</ref><sp/>&amp;other)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a83bca286500eb1564b4324714e00a6b8" kindref="member">player_number</ref><sp/>==<sp/>other.<ref refid="d8/d47/classopenage_1_1_player_1a83bca286500eb1564b4324714e00a6b8" kindref="member">player_number</ref>;</highlight></codeline>
<codeline lineno="34"><highlight class="normal">}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36" refid="d8/d47/classopenage_1_1_player_1afa2d1a4238826a37a94b69e4583a6465" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1afa2d1a4238826a37a94b69e4583a6465" kindref="member">Player::is_enemy</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player" kindref="compound">Player</ref><sp/>&amp;other)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>!this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a1bc0f7b97c57e7c016d3d5df3de5223a" kindref="member">is_ally</ref>(other);</highlight></codeline>
<codeline lineno="39"><highlight class="normal">}</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="d8/d47/classopenage_1_1_player_1a1bc0f7b97c57e7c016d3d5df3de5223a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a1bc0f7b97c57e7c016d3d5df3de5223a" kindref="member">Player::is_ally</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player" kindref="compound">Player</ref><sp/>&amp;other)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a83bca286500eb1564b4324714e00a6b8" kindref="member">player_number</ref><sp/>==<sp/>other.<ref refid="d8/d47/classopenage_1_1_player_1a83bca286500eb1564b4324714e00a6b8" kindref="member">player_number</ref>)<sp/>{</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>same<sp/>player</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a49e6eb4d6794785417435205a53ae5cb" kindref="member">team</ref><sp/>&amp;&amp;<sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a49e6eb4d6794785417435205a53ae5cb" kindref="member">team</ref>-&gt;<ref refid="de/dfb/classopenage_1_1_team_1a28f7fcd17ef88d23eb7bc0cb11b57591" kindref="member">is_member</ref>(other))<sp/>{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>same<sp/>team</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>everyone<sp/>else<sp/>is<sp/>enemy</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="53"><highlight class="normal">}</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="d8/d47/classopenage_1_1_player_1aefd20341c814fc53919cac8761bad38b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1aefd20341c814fc53919cac8761bad38b" kindref="member">Player::owns</ref>(<ref refid="df/dea/classopenage_1_1_unit" kindref="compound">Unit</ref><sp/>&amp;unit)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit.<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a72122ce96bfec66e2396d2e25225d70a" kindref="member">attr_type::owner</ref>))<sp/>{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>==<sp/>&amp;unit.<ref refid="df/dea/classopenage_1_1_unit_1a3e12324401051119f44e212dae1a87ce" kindref="member">get_attribute</ref>&lt;<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a72122ce96bfec66e2396d2e25225d70a" kindref="member">attr_type::owner</ref>&gt;().player;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="60"><highlight class="normal">}</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62" refid="d8/d47/classopenage_1_1_player_1a728983ff63d9e16ecc874a942c61fa22" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a728983ff63d9e16ecc874a942c61fa22" kindref="member">Player::receive</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/de9/classopenage_1_1_resource_bundle" kindref="compound">ResourceBundle</ref>&amp;<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>)<sp/>{</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref><sp/>+=<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" kindref="member">on_resources_change</ref>();</highlight></codeline>
<codeline lineno="65"><highlight class="normal">}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67" refid="d8/d47/classopenage_1_1_player_1aa5c3bbb49503d3166ce365686343f4da" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a728983ff63d9e16ecc874a942c61fa22" kindref="member">Player::receive</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="da/d23/namespaceopenage_1ac7b51147f1e8648805708ec7c3fd328d" kindref="member">game_resource</ref><sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a96ab4e163f4ee03aaa4d1051aa51d204" kindref="member">resource</ref>,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>)<sp/>{</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>[<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a96ab4e163f4ee03aaa4d1051aa51d204" kindref="member">resource</ref>]<sp/>+=<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" kindref="member">on_resources_change</ref>();</highlight></codeline>
<codeline lineno="70"><highlight class="normal">}</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72" refid="d8/d47/classopenage_1_1_player_1a7afa6e6f2c511235e1aa58a40b16eaf5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a7afa6e6f2c511235e1aa58a40b16eaf5" kindref="member">Player::can_receive</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/de9/classopenage_1_1_resource_bundle" kindref="compound">ResourceBundle</ref>&amp;<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1aa946fbe10a693141b1743b25efe3b752" kindref="member">resources_capacity</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a386ff157dd71560a8c9b1578fe5386e6" kindref="member">has</ref>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>,<sp/>amount);</highlight></codeline>
<codeline lineno="74"><highlight class="normal">}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="d8/d47/classopenage_1_1_player_1a086e4dcf2bccd69fa8d48541c54c1768" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a7afa6e6f2c511235e1aa58a40b16eaf5" kindref="member">Player::can_receive</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="da/d23/namespaceopenage_1ac7b51147f1e8648805708ec7c3fd328d" kindref="member">game_resource</ref><sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a96ab4e163f4ee03aaa4d1051aa51d204" kindref="member">resource</ref>,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1aa946fbe10a693141b1743b25efe3b752" kindref="member">resources_capacity</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a85c59861409e505a3c5fb020a73ef1c2" kindref="member">get</ref>(resource)<sp/>&gt;=<sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a85c59861409e505a3c5fb020a73ef1c2" kindref="member">get</ref>(resource)<sp/>+<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>;</highlight></codeline>
<codeline lineno="78"><highlight class="normal">}</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80" refid="d8/d47/classopenage_1_1_player_1a3ff378e505d9036c74204730b53d9fba" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a3ff378e505d9036c74204730b53d9fba" kindref="member">Player::deduct</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/de9/classopenage_1_1_resource_bundle" kindref="compound">ResourceBundle</ref>&amp;<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>)<sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1ae324ee7f007981e5f9629f6ed30b8641" kindref="member">deduct</ref>(amount))<sp/>{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" kindref="member">on_resources_change</ref>();</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="86"><highlight class="normal">}</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88" refid="d8/d47/classopenage_1_1_player_1ae9e08a13015f842a55b37413c179dc4e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a3ff378e505d9036c74204730b53d9fba" kindref="member">Player::deduct</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="da/d23/namespaceopenage_1ac7b51147f1e8648805708ec7c3fd328d" kindref="member">game_resource</ref><sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a96ab4e163f4ee03aaa4d1051aa51d204" kindref="member">resource</ref>,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>)<sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>[resource]<sp/>&gt;=<sp/>amount)<sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>[<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a96ab4e163f4ee03aaa4d1051aa51d204" kindref="member">resource</ref>]<sp/>-=<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" kindref="member">on_resources_change</ref>();</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="95"><highlight class="normal">}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97" refid="d8/d47/classopenage_1_1_player_1a5511f9f158fdeabca07be9d5314d7c38" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a5511f9f158fdeabca07be9d5314d7c38" kindref="member">Player::can_deduct</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/de9/classopenage_1_1_resource_bundle" kindref="compound">ResourceBundle</ref>&amp;<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a386ff157dd71560a8c9b1578fe5386e6" kindref="member">has</ref>(amount);</highlight></codeline>
<codeline lineno="99"><highlight class="normal">}</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="d8/d47/classopenage_1_1_player_1ab4df4918bf1f83664f7fd5e0bd0b5ff4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a5511f9f158fdeabca07be9d5314d7c38" kindref="member">Player::can_deduct</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="da/d23/namespaceopenage_1ac7b51147f1e8648805708ec7c3fd328d" kindref="member">game_resource</ref><sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a96ab4e163f4ee03aaa4d1051aa51d204" kindref="member">resource</ref>,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a85c59861409e505a3c5fb020a73ef1c2" kindref="member">get</ref>(resource)<sp/>&gt;=<sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">amount</ref>;</highlight></codeline>
<codeline lineno="103"><highlight class="normal">}</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105" refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1ac7283a82ddfcc4a556ca4aa4f9277bbc" kindref="member">Player::amount</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="da/d23/namespaceopenage_1ac7b51147f1e8648805708ec7c3fd328d" kindref="member">game_resource</ref><sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a96ab4e163f4ee03aaa4d1051aa51d204" kindref="member">resource</ref>)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a85c59861409e505a3c5fb020a73ef1c2" kindref="member">get</ref>(resource);</highlight></codeline>
<codeline lineno="107"><highlight class="normal">}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109" refid="d8/d47/classopenage_1_1_player_1a4909a76cf5b65e544b1a62dc21147d77" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a4909a76cf5b65e544b1a62dc21147d77" kindref="member">Player::can_make</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="dd/d39/classopenage_1_1_unit_type" kindref="compound">UnitType</ref><sp/>&amp;type)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a5511f9f158fdeabca07be9d5314d7c38" kindref="member">can_deduct</ref>(type.<ref refid="dd/d39/classopenage_1_1_unit_type_1a19960affc865b0f5d5c9aab5524831ee" kindref="member">cost</ref>.<ref refid="d8/d5b/classopenage_1_1_resource_cost_1a916923be9959f675aadb992258068e32" kindref="member">get</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a03454af8fd68e803804e2619b62b7231" kindref="member">get_units_have</ref>(type.<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>())<sp/>+<sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2befde4e71e0efad0e77bf8525311a79" kindref="member">get_units_pending</ref>(type.<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>())<sp/>&lt;<sp/>type.<ref refid="dd/d39/classopenage_1_1_unit_type_1a5ba08dd8da748f9a303a0f9f1266c112" kindref="member">have_limit</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;get_units_had(type.<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>())<sp/>+<sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2befde4e71e0efad0e77bf8525311a79" kindref="member">get_units_pending</ref>(type.<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>())<sp/>&lt;<sp/>type.<ref refid="dd/d39/classopenage_1_1_unit_type_1af3dc1ba3b4f6cc2418ebbc9375461e49" kindref="member">had_limit</ref>;</highlight></codeline>
<codeline lineno="113"><highlight class="normal">}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115" refid="d8/d47/classopenage_1_1_player_1aebec55f09f5e295450a0d8381f0f86f2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1aebec55f09f5e295450a0d8381f0f86f2" kindref="member">Player::type_count</ref>()<sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a3fd34994e4ac44efd89e567de46eb05f" kindref="member">available_ids</ref>.size();</highlight></codeline>
<codeline lineno="117"><highlight class="normal">}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119" refid="d8/d47/classopenage_1_1_player_1a67c7f6853d4be5c38d2456169af3d5a1" refkind="member"><highlight class="normal"><ref refid="dd/d39/classopenage_1_1_unit_type" kindref="compound">UnitType</ref><sp/>*<ref refid="d8/d47/classopenage_1_1_player_1a67c7f6853d4be5c38d2456169af3d5a1" kindref="member">Player::get_type</ref>(<ref refid="da/d23/namespaceopenage_1a8f00ffffd7d8386f3c406ec373e100bf" kindref="member">index_t</ref><sp/>type_id)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a3fd34994e4ac44efd89e567de46eb05f" kindref="member">available_ids</ref>.count(type_id)<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(type_id<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/d1a/namespaceopenage_1_1log_1a0eff614e7d6e818746700ed9d29e583f" kindref="member">log::log</ref>(<ref refid="d2/d0d/message_8h_1a8adfad4f54eb306fbb8aaa1b159608a5" kindref="member">MSG</ref>(<ref refid="dd/d1a/namespaceopenage_1_1log_1a403182e8d0c54bd49bea6934c3cb1e28" kindref="member">info</ref>)<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>-&gt;<sp/>ignoring<sp/>type_id:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>type_id);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a3fd34994e4ac44efd89e567de46eb05f" kindref="member">available_ids</ref>.at(type_id);</highlight></codeline>
<codeline lineno="127"><highlight class="normal">}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="d8/d47/classopenage_1_1_player_1ab1e818cc3361bbadd96add4cd83c86da" refkind="member"><highlight class="normal"><ref refid="dd/d39/classopenage_1_1_unit_type" kindref="compound">UnitType</ref><sp/>*<ref refid="d8/d47/classopenage_1_1_player_1ab1e818cc3361bbadd96add4cd83c86da" kindref="member">Player::get_type_index</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>type_index)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(type_index<sp/>&lt;<sp/><ref refid="d8/d47/classopenage_1_1_player_1a377bd0846efc82274d555e1f1069215c" kindref="member">available_objects</ref>.size())<sp/>{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a377bd0846efc82274d555e1f1069215c" kindref="member">available_objects</ref>.at(type_index).get();</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d1a/namespaceopenage_1_1log_1a0eff614e7d6e818746700ed9d29e583f" kindref="member">log::log</ref>(<ref refid="d2/d0d/message_8h_1a8adfad4f54eb306fbb8aaa1b159608a5" kindref="member">MSG</ref>(<ref refid="dd/d1a/namespaceopenage_1_1log_1a403182e8d0c54bd49bea6934c3cb1e28" kindref="member">info</ref>)<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>-&gt;<sp/>ignoring<sp/>type_index:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>type_index);</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138" refid="d8/d47/classopenage_1_1_player_1a95a450855aec639900bf4b5d24e98521" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a95a450855aec639900bf4b5d24e98521" kindref="member">Player::initialise_unit_types</ref>()<sp/>{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dd/d1a/namespaceopenage_1_1log_1a0eff614e7d6e818746700ed9d29e583f" kindref="member">log::log</ref>(<ref refid="d2/d0d/message_8h_1a8adfad4f54eb306fbb8aaa1b159608a5" kindref="member">MSG</ref>(<ref refid="dd/d1a/namespaceopenage_1_1log_1a403182e8d0c54bd49bea6934c3cb1e28" kindref="member">info</ref>)<sp/>&lt;&lt;<sp/><ref refid="d8/d47/classopenage_1_1_player_1aa216130fcaccd6e6739868ae59bbb426" kindref="member">name</ref><sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;<sp/>has<sp/>civilisation<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a310acdae5a61cb9fa1f1e77ce2fcea40" kindref="member">civ</ref>-&gt;<ref refid="de/d7a/classopenage_1_1_civilisation_1abfe7c1fb0da5297fe076417bda22e711" kindref="member">civ_name</ref>);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;type<sp/>:<sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a310acdae5a61cb9fa1f1e77ce2fcea40" kindref="member">civ</ref>-&gt;<ref refid="de/d7a/classopenage_1_1_civilisation_1acc3a4d02c42d7f8eda5b9b87175f4613" kindref="member">object_meta</ref>())<sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shared_type<sp/>=<sp/>type-&gt;init(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="da/d23/namespaceopenage_1a8f00ffffd7d8386f3c406ec373e100bf" kindref="member">index_t</ref><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>=<sp/>shared_type-&gt;id();</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a377bd0846efc82274d555e1f1069215c" kindref="member">available_objects</ref>.emplace_back(shared_type);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a3fd34994e4ac44efd89e567de46eb05f" kindref="member">available_ids</ref>[id]<sp/>=<sp/>shared_type.get();</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="146"><highlight class="normal">}</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148" refid="d8/d47/classopenage_1_1_player_1a69c98ddc434aed6aceec5dbb4931f064" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a69c98ddc434aed6aceec5dbb4931f064" kindref="member">Player::active_unit_added</ref>(<ref refid="df/dea/classopenage_1_1_unit" kindref="compound">Unit</ref><sp/>*unit,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>from_pending)<sp/>{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>unit<sp/>is<sp/>actually<sp/>active</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a5b26a30f3d83b7455b70fac759b07ae6" kindref="member">is_unit_pending</ref>(unit))<sp/>{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a10f9f2f61621bef39073421067f9f9db" kindref="member">units_pending</ref>[unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()]<sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(from_pending)<sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a10f9f2f61621bef39073421067f9f9db" kindref="member">units_pending</ref>[unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()]<sp/>-=<sp/>1;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>[unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()]<sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a4f928ee4c753d7360214912ab85bff3c" kindref="member">units_had</ref>[unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()]<sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>handle<sp/>here<sp/>building<sp/>dependencies</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>population</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a248081ecb337c85ec8e4330e6099625a" kindref="member">attr_type::population</ref>))<sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>popul<sp/>=<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a3e12324401051119f44e212dae1a87ce" kindref="member">get_attribute</ref>&lt;<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a248081ecb337c85ec8e4330e6099625a" kindref="member">attr_type::population</ref>&gt;();</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(popul.demand<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a296fc88baa2fa4d9d79e151edb2c4983" kindref="member">population</ref>.<ref refid="dd/d70/classopenage_1_1_population_tracker_1aa3b830735b6f9fc33f5462294f7ace39" kindref="member">demand_population</ref>(popul.demand);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(popul.capacity<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a296fc88baa2fa4d9d79e151edb2c4983" kindref="member">population</ref>.<ref refid="dd/d70/classopenage_1_1_population_tracker_1a4549680d186b62bb096efd831b2f59f4" kindref="member">add_capacity</ref>(popul.capacity);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>resources<sp/>capacity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36addecebdea58b5f264d27f1f7909bab74" kindref="member">attr_type::storage</ref>))<sp/>{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36addecebdea58b5f264d27f1f7909bab74" kindref="member">storage</ref><sp/>=<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a3e12324401051119f44e212dae1a87ce" kindref="member">get_attribute</ref>&lt;<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36addecebdea58b5f264d27f1f7909bab74" kindref="member">attr_type::storage</ref>&gt;();</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1aa946fbe10a693141b1743b25efe3b752" kindref="member">resources_capacity</ref><sp/>+=<sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36addecebdea58b5f264d27f1f7909bab74" kindref="member">storage</ref>.capacity;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" kindref="member">on_resources_change</ref>();</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>score</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>improve<sp/>selectors</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()<sp/>==<sp/>82<sp/>||<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()<sp/>==<sp/>276)<sp/>{<sp/></highlight><highlight class="comment">//<sp/>Castle,<sp/>Wonder</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a4672ffecb8a94271a0bf57121889f614" kindref="member">score</ref>.<ref refid="d8/dd7/classopenage_1_1_score_1ab03c4138b0129edb062c498f4393b8ba" kindref="member">add_score</ref>(<ref refid="da/d23/namespaceopenage_1a80d0d6e3a322272f55f01ca5cb372830a7310936c1bff3304c3767495298a29fc" kindref="member">score_category::society</ref>,<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1a19960affc865b0f5d5c9aab5524831ee" kindref="member">cost</ref>.<ref refid="d8/d5b/classopenage_1_1_resource_cost_1a916923be9959f675aadb992258068e32" kindref="member">get</ref>(*this).<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a76ff3bbdb074f255cd4b2a80d82e2a00" kindref="member">sum</ref>()<sp/>*<sp/>0.2);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a1b20e9021b3a16b059287caddc7862f6" kindref="member">attr_type::building</ref>)<sp/>||<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a248081ecb337c85ec8e4330e6099625a" kindref="member">attr_type::population</ref>))<sp/>{<sp/></highlight><highlight class="comment">//<sp/>building,<sp/>living</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a4672ffecb8a94271a0bf57121889f614" kindref="member">score</ref>.<ref refid="d8/dd7/classopenage_1_1_score_1ab03c4138b0129edb062c498f4393b8ba" kindref="member">add_score</ref>(<ref refid="da/d23/namespaceopenage_1a80d0d6e3a322272f55f01ca5cb372830a0959a8b663be96468a1c5c1d456243a2" kindref="member">score_category::economy</ref>,<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1a19960affc865b0f5d5c9aab5524831ee" kindref="member">cost</ref>.<ref refid="d8/d5b/classopenage_1_1_resource_cost_1a916923be9959f675aadb992258068e32" kindref="member">get</ref>(*this).<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a76ff3bbdb074f255cd4b2a80d82e2a00" kindref="member">sum</ref>()<sp/>*<sp/>0.2);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>handle<sp/>here<sp/>on<sp/>create<sp/>unit<sp/>triggers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>check<sp/>for<sp/>unit<sp/>based<sp/>win<sp/>conditions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal">}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193" refid="d8/d47/classopenage_1_1_player_1ad3f9e5b486a9d6b07402596e3eabca82" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1ad3f9e5b486a9d6b07402596e3eabca82" kindref="member">Player::active_unit_removed</ref>(<ref refid="df/dea/classopenage_1_1_unit" kindref="compound">Unit</ref><sp/>*unit)<sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>unit<sp/>is<sp/>actually<sp/>active</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a5b26a30f3d83b7455b70fac759b07ae6" kindref="member">is_unit_pending</ref>(unit))<sp/>{</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a10f9f2f61621bef39073421067f9f9db" kindref="member">units_pending</ref>[unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()]<sp/>-=<sp/>1;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>[unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()]<sp/>-=<sp/>1;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>handle<sp/>here<sp/>building<sp/>dependencies</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>population</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a248081ecb337c85ec8e4330e6099625a" kindref="member">attr_type::population</ref>))<sp/>{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>popul<sp/>=<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a3e12324401051119f44e212dae1a87ce" kindref="member">get_attribute</ref>&lt;<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a248081ecb337c85ec8e4330e6099625a" kindref="member">attr_type::population</ref>&gt;();</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(popul.demand<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a296fc88baa2fa4d9d79e151edb2c4983" kindref="member">population</ref>.<ref refid="dd/d70/classopenage_1_1_population_tracker_1a040af223d85f69ceedbc5e51a393fb94" kindref="member">free_population</ref>(popul.demand);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(popul.capacity<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a296fc88baa2fa4d9d79e151edb2c4983" kindref="member">population</ref>.<ref refid="dd/d70/classopenage_1_1_population_tracker_1a665c07f6c453a6117c514a56eda96f36" kindref="member">remove_capacity</ref>(popul.capacity);</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>resources<sp/>capacity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36addecebdea58b5f264d27f1f7909bab74" kindref="member">attr_type::storage</ref>))<sp/>{</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36addecebdea58b5f264d27f1f7909bab74" kindref="member">storage</ref><sp/>=<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a3e12324401051119f44e212dae1a87ce" kindref="member">get_attribute</ref>&lt;<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36addecebdea58b5f264d27f1f7909bab74" kindref="member">attr_type::storage</ref>&gt;();</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1aa946fbe10a693141b1743b25efe3b752" kindref="member">resources_capacity</ref><sp/>-=<sp/><ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36addecebdea58b5f264d27f1f7909bab74" kindref="member">storage</ref>.capacity;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" kindref="member">on_resources_change</ref>();</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>score</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>improve<sp/>selectors</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()<sp/>==<sp/>82<sp/>||<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1ad295b572c0aa0399a04133dc61fb8a4b" kindref="member">id</ref>()<sp/>==<sp/>276)<sp/>{<sp/></highlight><highlight class="comment">//<sp/>Castle,<sp/>Wonder</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>nothing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a1b20e9021b3a16b059287caddc7862f6" kindref="member">attr_type::building</ref>)<sp/>||<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a248081ecb337c85ec8e4330e6099625a" kindref="member">attr_type::population</ref>))<sp/>{<sp/></highlight><highlight class="comment">//<sp/>building,<sp/>living</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a4672ffecb8a94271a0bf57121889f614" kindref="member">score</ref>.<ref refid="d8/dd7/classopenage_1_1_score_1a7867975c457c1de476f8d5ecd1ae452f" kindref="member">remove_score</ref>(<ref refid="da/d23/namespaceopenage_1a80d0d6e3a322272f55f01ca5cb372830a0959a8b663be96468a1c5c1d456243a2" kindref="member">score_category::economy</ref>,<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1a19960affc865b0f5d5c9aab5524831ee" kindref="member">cost</ref>.<ref refid="d8/d5b/classopenage_1_1_resource_cost_1a916923be9959f675aadb992258068e32" kindref="member">get</ref>(*this).<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a76ff3bbdb074f255cd4b2a80d82e2a00" kindref="member">sum</ref>()<sp/>*<sp/>0.2);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>handle<sp/>here<sp/>on<sp/>death<sp/>unit<sp/>triggers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>check<sp/>for<sp/>unit<sp/>based<sp/>win<sp/>conditions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal">}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233" refid="d8/d47/classopenage_1_1_player_1a2d3f269dc4b0acd1972e4d0a32f97c2f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a2d3f269dc4b0acd1972e4d0a32f97c2f" kindref="member">Player::killed_unit</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="df/dea/classopenage_1_1_unit" kindref="compound">Unit</ref><sp/>&amp;<sp/>unit)<sp/>{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>score</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a4672ffecb8a94271a0bf57121889f614" kindref="member">score</ref>.<ref refid="d8/dd7/classopenage_1_1_score_1ab03c4138b0129edb062c498f4393b8ba" kindref="member">add_score</ref>(<ref refid="da/d23/namespaceopenage_1a80d0d6e3a322272f55f01ca5cb372830a31ba6d3619a6d70c983151afa0764de4" kindref="member">score_category::military</ref>,<sp/>unit.<ref refid="df/dea/classopenage_1_1_unit_1a2d7da7c7ccd95557e10d54a58a033187" kindref="member">unit_type</ref>-&gt;<ref refid="dd/d39/classopenage_1_1_unit_type_1a19960affc865b0f5d5c9aab5524831ee" kindref="member">cost</ref>.<ref refid="d8/d5b/classopenage_1_1_resource_cost_1a916923be9959f675aadb992258068e32" kindref="member">get</ref>(*this).<ref refid="d2/de9/classopenage_1_1_resource_bundle_1a76ff3bbdb074f255cd4b2a80d82e2a00" kindref="member">sum</ref>()<sp/>*<sp/>0.2);</highlight></codeline>
<codeline lineno="236"><highlight class="normal">}</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238" refid="d8/d47/classopenage_1_1_player_1ab5854d681fef5b4a8327097c8ea19bbe" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1ab5854d681fef5b4a8327097c8ea19bbe" kindref="member">Player::advance_age</ref>()<sp/>{</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1adef32e0454fc4063bcb2555efd0aa12a" kindref="member">age</ref><sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="240"><highlight class="normal">}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242" refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a2a7b7334922d4cdf68236f8684cbfe38" kindref="member">Player::on_resources_change</ref>()<sp/>{</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>capacity<sp/>overflow</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1aa946fbe10a693141b1743b25efe3b752" kindref="member">resources_capacity</ref><sp/>&gt;=<sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1aa946fbe10a693141b1743b25efe3b752" kindref="member">resources_capacity</ref>))<sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>.<ref refid="d2/de9/classopenage_1_1_resource_bundle_1aa3e1dfb21fe065f769a21a13f667984b" kindref="member">limit</ref>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1aa946fbe10a693141b1743b25efe3b752" kindref="member">resources_capacity</ref>);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>score</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a4672ffecb8a94271a0bf57121889f614" kindref="member">score</ref>.<ref refid="d8/dd7/classopenage_1_1_score_1a692b0ccf6ec945e3cb5e8540b6b9abc6" kindref="member">update_resources</ref>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1ae9a61173c2ec7dd3266bc34f3f348b78" kindref="member">resources</ref>);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>check<sp/>for<sp/>resource<sp/>based<sp/>win<sp/>conditions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal">}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255" refid="d8/d47/classopenage_1_1_player_1a03454af8fd68e803804e2619b62b7231" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a03454af8fd68e803804e2619b62b7231" kindref="member">Player::get_units_have</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type_id)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>.count(type_id))<sp/>{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>.at(type_id);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="260"><highlight class="normal">}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262" refid="d8/d47/classopenage_1_1_player_1adc552ba67bafcfa1bd689b2c276ec7ce" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1adc552ba67bafcfa1bd689b2c276ec7ce" kindref="member">Player::get_units_had</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type_id)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a4f928ee4c753d7360214912ab85bff3c" kindref="member">units_had</ref>.count(type_id))<sp/>{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a4f928ee4c753d7360214912ab85bff3c" kindref="member">units_had</ref>.at(type_id);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="267"><highlight class="normal">}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="d8/d47/classopenage_1_1_player_1a2befde4e71e0efad0e77bf8525311a79" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a2befde4e71e0efad0e77bf8525311a79" kindref="member">Player::get_units_pending</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type_id)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a10f9f2f61621bef39073421067f9f9db" kindref="member">units_pending</ref>.count(type_id))<sp/>{</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1a10f9f2f61621bef39073421067f9f9db" kindref="member">units_pending</ref>.at(type_id);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="274"><highlight class="normal">}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276" refid="d8/d47/classopenage_1_1_player_1a5b26a30f3d83b7455b70fac759b07ae6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1a5b26a30f3d83b7455b70fac759b07ae6" kindref="member">Player::is_unit_pending</ref>(<ref refid="df/dea/classopenage_1_1_unit" kindref="compound">Unit</ref><sp/>*unit)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>check<sp/>aslo<sp/>if<sp/>unit<sp/>is<sp/>training</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a6c56a8b7e9856a8e0535cacbe831bae7" kindref="member">has_attribute</ref>(<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a1b20e9021b3a16b059287caddc7862f6" kindref="member">attr_type::building</ref>)<sp/>&amp;&amp;<sp/>unit-&gt;<ref refid="df/dea/classopenage_1_1_unit_1a3e12324401051119f44e212dae1a87ce" kindref="member">get_attribute</ref>&lt;<ref refid="da/d23/namespaceopenage_1a38adadf644885a7fe121be11ffeb8c36a1b20e9021b3a16b059287caddc7862f6" kindref="member">attr_type::building</ref>&gt;().completed<sp/>&lt;<sp/>1.0f;</highlight></codeline>
<codeline lineno="279"><highlight class="normal">}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281" refid="d8/d47/classopenage_1_1_player_1af95cd6a1823c78ef20a347369901830d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d8/d47/classopenage_1_1_player_1af95cd6a1823c78ef20a347369901830d" kindref="member">Player::get_workforce_count</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>get<sp/>all<sp/>units<sp/>tagged<sp/>as<sp/>work<sp/>force</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>.at(83)<sp/>+<sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>.at(293)<sp/>+<sp/></highlight><highlight class="comment">//<sp/>villagers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>.at(13)<sp/>+<sp/></highlight><highlight class="comment">//<sp/>fishing<sp/>ship</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>.at(128)<sp/>+<sp/></highlight><highlight class="comment">//<sp/>trade<sp/>cart</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d8/d47/classopenage_1_1_player_1abdcdac88382cd49622e56a46981a3ae7" kindref="member">units_have</ref>.at(545);<sp/></highlight><highlight class="comment">//<sp/>transport<sp/>ship</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal">}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>openage</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/mnt/c/Users/Jameson/Desktop/git/openage-new-doc-system/libopenage/gamestate/player.cpp"/>
  </compounddef>
</doxygen>
