<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="d4/dc9/unit__texture_8cpp" kind="file" language="C++">
    <compoundname>unit_texture.cpp</compoundname>
    <includes refid="dd/dde/unit__texture_8h" local="yes">unit_texture.h</includes>
    <includes local="no">cmath</includes>
    <includes local="no">iostream</includes>
    <includes refid="d0/d8a/phys_8h" local="yes">../coord/phys.h</includes>
    <includes refid="dd/dcd/pixel_8h" local="yes">../coord/pixel.h</includes>
    <includes refid="d4/d97/game__spec_8h" local="yes">../gamestate/game_spec.h</includes>
    <includes refid="d7/d7f/log_8h" local="yes">../log/log.h</includes>
    <includes refid="df/dba/texture_8h" local="yes">../texture.h</includes>
    <includes refid="df/db1/math_8h" local="yes">../util/math.h</includes>
    <includes refid="d5/d77/math__constants_8h" local="yes">../util/math_constants.h</includes>
    <incdepgraph>
      <node id="27210">
        <label>list</label>
      </node>
      <node id="27246">
        <label>../util/language.h</label>
        <link refid="d8/dce/language_8h"/>
      </node>
      <node id="27201">
        <label>atomic</label>
      </node>
      <node id="27263">
        <label>../log/log.h</label>
        <link refid="d7/d7f/log_8h"/>
        <childnode refid="27212" relation="include">
        </childnode>
        <childnode refid="27196" relation="include">
        </childnode>
      </node>
      <node id="27207">
        <label>iomanip</label>
      </node>
      <node id="27206">
        <label>functional</label>
      </node>
      <node id="27251">
        <label>fslike/native.h</label>
        <link refid="d3/d0f/fslike_2native_8h"/>
      </node>
      <node id="27221">
        <label>limits</label>
      </node>
      <node id="27229">
        <label>../job/job.h</label>
        <link refid="d3/d6a/job_8h"/>
        <childnode refid="27230" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27231" relation="include">
        </childnode>
      </node>
      <node id="27262">
        <label>QObject</label>
      </node>
      <node id="27180">
        <label>cstdint</label>
      </node>
      <node id="27203">
        <label>externalsstream.h</label>
        <link refid="dc/dcf/externalsstream_8h"/>
        <childnode refid="27191" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
      </node>
      <node id="27195">
        <label>signal.h</label>
        <link refid="d8/d39/signal_8h"/>
        <childnode refid="27195" relation="include">
        </childnode>
      </node>
      <node id="27183">
        <label>../util/misc.h</label>
        <link refid="d4/d08/misc_8h"/>
        <childnode refid="27184" relation="include">
        </childnode>
        <childnode refid="27185" relation="include">
        </childnode>
        <childnode refid="27186" relation="include">
        </childnode>
        <childnode refid="27187" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27190" relation="include">
        </childnode>
        <childnode refid="27193" relation="include">
        </childnode>
      </node>
      <node id="27223">
        <label>coord_nese.gen.h</label>
      </node>
      <node id="27236">
        <label>types.h</label>
        <link refid="da/d65/job_2types_8h"/>
        <childnode refid="27206" relation="include">
        </childnode>
      </node>
      <node id="27252">
        <label>../coord/chunk.h</label>
        <link refid="dd/dd5/chunk_8h"/>
        <childnode refid="27218" relation="include">
        </childnode>
        <childnode refid="27223" relation="include">
        </childnode>
        <childnode refid="27224" relation="include">
        </childnode>
      </node>
      <node id="27241">
        <label>../assetmanager.h</label>
        <link refid="d0/d45/assetmanager_8h"/>
        <childnode refid="27197" relation="include">
        </childnode>
        <childnode refid="27240" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27242" relation="include">
        </childnode>
      </node>
      <node id="27245">
        <label>functional.h</label>
        <link refid="d8/dea/functional_8h"/>
        <childnode refid="27206" relation="include">
        </childnode>
        <childnode refid="27211" relation="include">
        </childnode>
        <childnode refid="27193" relation="include">
        </childnode>
        <childnode refid="27246" relation="include">
        </childnode>
        <childnode refid="27247" relation="include">
        </childnode>
        <childnode refid="27248" relation="include">
        </childnode>
      </node>
      <node id="27186">
        <label>cmath</label>
      </node>
      <node id="27182">
        <label>../coord/phys.h</label>
        <link refid="d0/d8a/phys_8h"/>
        <childnode refid="27183" relation="include">
        </childnode>
        <childnode refid="27215" relation="include">
        </childnode>
        <childnode refid="27218" relation="include">
        </childnode>
        <childnode refid="27223" relation="include">
        </childnode>
        <childnode refid="27224" relation="include">
        </childnode>
      </node>
      <node id="27237">
        <label>../gamedata/gamedata.gen.h</label>
      </node>
      <node id="27192">
        <label>stdexcept</label>
      </node>
      <node id="27264">
        <label>../util/math.h</label>
        <link refid="df/db1/math_8h"/>
        <childnode refid="27186" relation="include">
        </childnode>
      </node>
      <node id="27247">
        <label>exctranslate.h</label>
        <link refid="dd/d5f/exctranslate_8h"/>
        <childnode refid="27190" relation="include">
        </childnode>
      </node>
      <node id="27205">
        <label>cstdarg</label>
      </node>
      <node id="27188">
        <label>string</label>
      </node>
      <node id="27209">
        <label>logsink.h</label>
        <link refid="d3/d4e/logsink_8h"/>
        <childnode refid="27210" relation="include">
        </childnode>
        <childnode refid="27211" relation="include">
        </childnode>
        <childnode refid="27212" relation="include">
        </childnode>
      </node>
      <node id="27226">
        <label>../coord/pixel.h</label>
        <link refid="dd/dcd/pixel_8h"/>
        <childnode refid="27227" relation="include">
        </childnode>
        <childnode refid="27218" relation="include">
        </childnode>
      </node>
      <node id="27228">
        <label>../gamestate/game_spec.h</label>
        <link refid="d4/d97/game__spec_8h"/>
        <childnode refid="27229" relation="include">
        </childnode>
        <childnode refid="27237" relation="include">
        </childnode>
        <childnode refid="27225" relation="include">
        </childnode>
        <childnode refid="27238" relation="include">
        </childnode>
        <childnode refid="27179" relation="include">
        </childnode>
        <childnode refid="27260" relation="include">
        </childnode>
        <childnode refid="27240" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27262" relation="include">
        </childnode>
      </node>
      <node id="27230">
        <label>exception</label>
      </node>
      <node id="27233">
        <label>stddef.h</label>
      </node>
      <node id="27261">
        <label>fstream</label>
      </node>
      <node id="27222">
        <label>ostream</label>
      </node>
      <node id="27265">
        <label>../util/math_constants.h</label>
        <link refid="d5/d77/math__constants_8h"/>
        <childnode refid="27221" relation="include">
        </childnode>
      </node>
      <node id="27196">
        <label>../log/message.h</label>
        <link refid="d2/d0d/message_8h"/>
        <childnode refid="27180" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27197" relation="include">
        </childnode>
        <childnode refid="27198" relation="include">
        </childnode>
        <childnode refid="27200" relation="include">
        </childnode>
        <childnode refid="27209" relation="include">
        </childnode>
        <childnode refid="27212" relation="include">
        </childnode>
      </node>
      <node id="27185">
        <label>limits.h</label>
      </node>
      <node id="27258">
        <label>shader/shader.h</label>
        <link refid="d2/d22/shader_2shader_8h"/>
        <childnode refid="27259" relation="include">
        </childnode>
        <childnode refid="27255" relation="include">
        </childnode>
      </node>
      <node id="27213">
        <label>../util/enum.h</label>
        <link refid="d0/d9b/enum_8h"/>
        <childnode refid="27191" relation="include">
        </childnode>
        <childnode refid="27214" relation="include">
        </childnode>
        <childnode refid="27193" relation="include">
        </childnode>
      </node>
      <node id="27224">
        <label>coord_neseup.gen.h</label>
      </node>
      <node id="27235">
        <label>job_state_base.h</label>
        <link refid="d3/d8b/job__state__base_8h"/>
        <childnode refid="27206" relation="include">
        </childnode>
        <childnode refid="27236" relation="include">
        </childnode>
      </node>
      <node id="27249">
        <label>file.h</label>
        <link refid="d2/d4d/file_8h"/>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
        <childnode refid="27250" relation="include">
        </childnode>
        <childnode refid="27243" relation="include">
        </childnode>
      </node>
      <node id="27250">
        <label>filelike/filelike.h</label>
        <link refid="d7/db5/filelike_8h"/>
        <childnode refid="27191" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27193" relation="include">
        </childnode>
      </node>
      <node id="27214">
        <label>typeinfo</label>
      </node>
      <node id="27227">
        <label>coord_xy.gen.h</label>
      </node>
      <node id="27238">
        <label>../terrain/terrain.h</label>
        <link refid="d8/db6/terrain_8h"/>
        <childnode refid="27206" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27233" relation="include">
        </childnode>
        <childnode refid="27239" relation="include">
        </childnode>
        <childnode refid="27240" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
        <childnode refid="27241" relation="include">
        </childnode>
        <childnode refid="27252" relation="include">
        </childnode>
        <childnode refid="27182" relation="include">
        </childnode>
        <childnode refid="27226" relation="include">
        </childnode>
        <childnode refid="27253" relation="include">
        </childnode>
        <childnode refid="27254" relation="include">
        </childnode>
        <childnode refid="27183" relation="include">
        </childnode>
      </node>
      <node id="27181">
        <label>vector</label>
      </node>
      <node id="27194">
        <label>ciso646</label>
      </node>
      <node id="27219">
        <label>../util/fixed_point.h</label>
        <link refid="de/d62/fixed__point_8h"/>
        <childnode refid="27184" relation="include">
        </childnode>
        <childnode refid="27220" relation="include">
        </childnode>
        <childnode refid="27186" relation="include">
        </childnode>
        <childnode refid="27207" relation="include">
        </childnode>
        <childnode refid="27221" relation="include">
        </childnode>
        <childnode refid="27222" relation="include">
        </childnode>
        <childnode refid="27202" relation="include">
        </childnode>
        <childnode refid="27183" relation="include">
        </childnode>
      </node>
      <node id="27215">
        <label>../util/hash.h</label>
        <link refid="db/dfb/hash_8h"/>
        <childnode refid="27199" relation="include">
        </childnode>
        <childnode refid="27216" relation="include">
        </childnode>
        <childnode refid="27217" relation="include">
        </childnode>
      </node>
      <node id="27244">
        <label>defs.h</label>
        <link refid="d5/d64/defs_8h"/>
      </node>
      <node id="27190">
        <label>../error/error.h</label>
        <link refid="d7/dce/error_2error_8h"/>
        <childnode refid="27191" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27192" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27193" relation="include">
        </childnode>
        <childnode refid="27196" relation="include">
        </childnode>
      </node>
      <node id="27216">
        <label>array</label>
      </node>
      <node id="27208">
        <label>sstream</label>
      </node>
      <node id="27260">
        <label>../util/csv.h</label>
        <link refid="d3/d8e/csv_8h"/>
        <childnode refid="27199" relation="include">
        </childnode>
        <childnode refid="27187" relation="include">
        </childnode>
        <childnode refid="27261" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27240" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
        <childnode refid="27190" relation="include">
        </childnode>
        <childnode refid="27193" relation="include">
        </childnode>
        <childnode refid="27251" relation="include">
        </childnode>
        <childnode refid="27242" relation="include">
        </childnode>
      </node>
      <node id="27255">
        <label>epoxy/gl.h</label>
      </node>
      <node id="27256">
        <label>gamedata/texture.gen.h</label>
      </node>
      <node id="27248">
        <label>setup.h</label>
        <link refid="d7/df7/setup_8h"/>
        <childnode refid="27206" relation="include">
        </childnode>
        <childnode refid="27193" relation="include">
        </childnode>
      </node>
      <node id="27193">
        <label>../util/compiler.h</label>
        <link refid="d4/dd1/compiler_8h"/>
        <childnode refid="27194" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27195" relation="include">
        </childnode>
      </node>
      <node id="27199">
        <label>cstdlib</label>
      </node>
      <node id="27253">
        <label>../coord/tile.h</label>
        <link refid="da/dce/tile_8h"/>
        <childnode refid="27218" relation="include">
        </childnode>
        <childnode refid="27223" relation="include">
        </childnode>
        <childnode refid="27224" relation="include">
        </childnode>
        <childnode refid="27183" relation="include">
        </childnode>
        <childnode refid="27215" relation="include">
        </childnode>
      </node>
      <node id="27212">
        <label>level.h</label>
        <link refid="de/d09/level_8h"/>
        <childnode refid="27213" relation="include">
        </childnode>
      </node>
      <node id="27191">
        <label>iostream</label>
      </node>
      <node id="27198">
        <label>../util/constexpr.h</label>
        <link refid="d1/d06/constexpr_8h"/>
        <childnode refid="27199" relation="include">
        </childnode>
      </node>
      <node id="27243">
        <label>../pyinterface/pyobject.h</label>
        <link refid="d2/d4b/pyobject_8h"/>
        <childnode refid="27180" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
        <childnode refid="27244" relation="include">
        </childnode>
        <childnode refid="27245" relation="include">
        </childnode>
      </node>
      <node id="27254">
        <label>../texture.h</label>
        <link refid="df/dba/texture_8h"/>
        <childnode refid="27255" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27256" relation="include">
        </childnode>
        <childnode refid="27226" relation="include">
        </childnode>
        <childnode refid="27253" relation="include">
        </childnode>
        <childnode refid="27257" relation="include">
        </childnode>
        <childnode refid="27258" relation="include">
        </childnode>
        <childnode refid="27242" relation="include">
        </childnode>
      </node>
      <node id="27204">
        <label>strings.h</label>
        <link refid="d6/d90/strings_8h"/>
        <childnode refid="27205" relation="include">
        </childnode>
        <childnode refid="27206" relation="include">
        </childnode>
        <childnode refid="27207" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27208" relation="include">
        </childnode>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
      </node>
      <node id="27240">
        <label>unordered_map</label>
      </node>
      <node id="27220">
        <label>climits</label>
      </node>
      <node id="27211">
        <label>mutex</label>
      </node>
      <node id="27179">
        <label>unit_texture.h</label>
        <link refid="dd/dde/unit__texture_8h"/>
        <childnode refid="27180" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
        <childnode refid="27182" relation="include">
        </childnode>
        <childnode refid="27225" relation="include">
        </childnode>
      </node>
      <node id="27232">
        <label>../util/thread_id.h</label>
        <link refid="d2/d4c/thread__id_8h"/>
        <childnode refid="27233" relation="include">
        </childnode>
      </node>
      <node id="27218">
        <label>declarations.h</label>
        <link refid="db/d40/declarations_8h"/>
        <childnode refid="27180" relation="include">
        </childnode>
        <childnode refid="27219" relation="include">
        </childnode>
      </node>
      <node id="27200">
        <label>../util/stringformatter.h</label>
        <link refid="de/d65/stringformatter_8h"/>
        <childnode refid="27201" relation="include">
        </childnode>
        <childnode refid="27189" relation="include">
        </childnode>
        <childnode refid="27202" relation="include">
        </childnode>
        <childnode refid="27193" relation="include">
        </childnode>
        <childnode refid="27203" relation="include">
        </childnode>
        <childnode refid="27204" relation="include">
        </childnode>
      </node>
      <node id="27202">
        <label>type_traits</label>
      </node>
      <node id="27239">
        <label>set</label>
      </node>
      <node id="27197">
        <label>config.h</label>
      </node>
      <node id="27184">
        <label>algorithm</label>
      </node>
      <node id="27231">
        <label>typed_job_state_base.h</label>
        <link refid="da/d6c/typed__job__state__base_8h"/>
        <childnode refid="27201" relation="include">
        </childnode>
        <childnode refid="27230" relation="include">
        </childnode>
        <childnode refid="27206" relation="include">
        </childnode>
        <childnode refid="27232" relation="include">
        </childnode>
        <childnode refid="27190" relation="include">
        </childnode>
        <childnode refid="27234" relation="include">
        </childnode>
        <childnode refid="27235" relation="include">
        </childnode>
        <childnode refid="27236" relation="include">
        </childnode>
      </node>
      <node id="27242">
        <label>util/path.h</label>
        <link refid="d1/d11/util_2path_8h"/>
        <childnode refid="27188" relation="include">
        </childnode>
        <childnode refid="27181" relation="include">
        </childnode>
        <childnode refid="27243" relation="include">
        </childnode>
        <childnode refid="27249" relation="include">
        </childnode>
        <childnode refid="27251" relation="include">
        </childnode>
      </node>
      <node id="27178">
        <label>/mnt/c/Users/Jameson/Desktop/git/openage-new-doc-system/libopenage/unit/unit_texture.cpp</label>
        <link refid="d4/dc9/unit__texture_8cpp"/>
        <childnode refid="27179" relation="include">
        </childnode>
        <childnode refid="27186" relation="include">
        </childnode>
        <childnode refid="27191" relation="include">
        </childnode>
        <childnode refid="27182" relation="include">
        </childnode>
        <childnode refid="27226" relation="include">
        </childnode>
        <childnode refid="27228" relation="include">
        </childnode>
        <childnode refid="27263" relation="include">
        </childnode>
        <childnode refid="27254" relation="include">
        </childnode>
        <childnode refid="27264" relation="include">
        </childnode>
        <childnode refid="27265" relation="include">
        </childnode>
      </node>
      <node id="27257">
        <label>shader/program.h</label>
        <link refid="d1/dea/program_8h"/>
        <childnode refid="27255" relation="include">
        </childnode>
      </node>
      <node id="27187">
        <label>cstring</label>
      </node>
      <node id="27225">
        <label>../gamedata/graphic.gen.h</label>
      </node>
      <node id="27189">
        <label>memory</label>
      </node>
      <node id="27259">
        <label>initializer_list</label>
      </node>
      <node id="27217">
        <label>typeindex</label>
      </node>
      <node id="27234">
        <label>job_aborted_exception.h</label>
        <link refid="df/d29/job__aborted__exception_8h"/>
        <childnode refid="27192" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innernamespace refid="da/d23/namespaceopenage">openage</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>2015-2018<sp/>the<sp/>openage<sp/>authors.<sp/>See<sp/>copying.md<sp/>for<sp/>legal<sp/>info.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="dd/dde/unit__texture_8h" kindref="compound">unit_texture.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cmath&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;iostream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../coord/phys.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../coord/pixel.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../gamestate/game_spec.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../log/log.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../texture.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../util/math.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../util/math_constants.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="da/d23/namespaceopenage" kindref="compound">openage</ref><sp/>{</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="d9/d0c/classopenage_1_1_unit_texture_1a1ebf9eb4f473f2980165d1fc8205aa55" refkind="member"><highlight class="normal"><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a1ebf9eb4f473f2980165d1fc8205aa55" kindref="member">UnitTexture::UnitTexture</ref>(<ref refid="de/d6a/classopenage_1_1_game_spec" kindref="compound">GameSpec</ref><sp/>&amp;spec,<sp/>uint16_t<sp/>graphic_id,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>delta)</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>:</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture" kindref="compound">UnitTexture</ref>{spec,<sp/>spec.<ref refid="de/d6a/classopenage_1_1_game_spec_1aa1f8784ca6aab9da489457d22b386443" kindref="member">get_graphic_data</ref>(graphic_id),<sp/>delta}<sp/>{}</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="d9/d0c/classopenage_1_1_unit_texture_1af3784fba2f1d4f68b11815ec32533ead" refkind="member"><highlight class="normal"><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a1ebf9eb4f473f2980165d1fc8205aa55" kindref="member">UnitTexture::UnitTexture</ref>(<ref refid="de/d6a/classopenage_1_1_game_spec" kindref="compound">GameSpec</ref><sp/>&amp;spec,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gamedata::graphic<sp/>*graphic,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>delta)</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>:</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a84ef6a1b69e52a09eb997d018f249708" kindref="member">id</ref>{graphic-&gt;id},</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a1fe7033557f83325f51cf96b9cdeb378" kindref="member">sound_id</ref>{graphic-&gt;sound_id},</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a5d5ceeca83c640f1965341eb304d2dbe" kindref="member">frame_count</ref>{graphic-&gt;frame_count},</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a1bc3f091f4aeceb7ba09ac0699ba5640" kindref="member">angle_count</ref>{graphic-&gt;angle_count},</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1af8e4d853e0c6b111b5df9ebe8dc266b6" kindref="member">mirroring_mode</ref>{graphic-&gt;mirroring_mode},</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1ac34ee7ace110e62b81936c8a02bec421" kindref="member">frame_rate</ref>{graphic-&gt;frame_rate},</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1af69c776830224e224867110f6b522cbd" kindref="member">use_up_angles</ref>{graphic-&gt;mirroring_mode<sp/>==<sp/>24},</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1ad196a81adcf43745f04514e417bb93fa" kindref="member">use_deltas</ref>{delta},</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>{</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1ab73fc25e6c0bf70e46bfa1367cfa8214" kindref="member">draw_this</ref>{</highlight><highlight class="keyword">true</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1aa56a7948cc4664b188b54e29a5379419" kindref="member">sound</ref>{</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a12ccd7b2560aee281da63987871aead1" kindref="member">delta_id</ref>{graphic-&gt;graphic_deltas.data}<sp/>{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a74f56948004978ef96508c6486b34430" kindref="member">initialise</ref>(spec);</highlight></codeline>
<codeline lineno="38"><highlight class="normal">}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="d9/d0c/classopenage_1_1_unit_texture_1a6aa00a6381fb4b555f989f1bfcfd9c7a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a6aa00a6381fb4b555f989f1bfcfd9c7a" kindref="member">UnitTexture::is_valid</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>;</highlight></codeline>
<codeline lineno="42"><highlight class="normal">}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44" refid="d9/d0c/classopenage_1_1_unit_texture_1a92df4d1c73e842abeb4b27d45ebd4001" refkind="member"><highlight class="normal"><ref refid="d2/dcd/structopenage_1_1coord_1_1viewport" kindref="compound">coord::viewport</ref><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a92df4d1c73e842abeb4b27d45ebd4001" kindref="member">UnitTexture::size</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="d2/dcd/structopenage_1_1coord_1_1viewport" kindref="compound">coord::viewport</ref>{this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>-&gt;<ref refid="d4/d5b/classopenage_1_1_texture_1a2954f2796e06c22fc2a08361f565b892" kindref="member">w</ref>,<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>-&gt;<ref refid="d4/d5b/classopenage_1_1_texture_1a615e1dad6c2f29c113da88c1c01270d1" kindref="member">h</ref>};</highlight></codeline>
<codeline lineno="46"><highlight class="normal">}</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48" refid="d9/d0c/classopenage_1_1_unit_texture_1abcd138ff9ca2160f57812da8d48a39a7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1abcd138ff9ca2160f57812da8d48a39a7" kindref="member">UnitTexture::sample</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="de/db5/classopenage_1_1coord_1_1_coord_manager" kindref="compound">coord::CoordManager</ref><sp/>&amp;<ref refid="d0/d3c/namespaceopenage_1_1coord_1_1tests_1ab5f6aa805a24bd58eb365e5af294d807" kindref="member">coord</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/d89/structopenage_1_1coord_1_1camhud" kindref="compound">coord::camhud</ref><sp/>&amp;draw_pos,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="d2/d2b/namespaceopenage_1_1texturefont__shader_1a82374b732aa3c4123fee88dc25508564" kindref="member">color</ref>)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>draw<sp/>delta<sp/>list<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;d<sp/>:<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a46b37c628ef85eb1b8471510b15c9aee" kindref="member">deltas</ref>)<sp/>{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d3/d35/structopenage_1_1coord_1_1camhud__delta" kindref="compound">coord::camhud_delta</ref><sp/>dlt<sp/>=<sp/><ref refid="d3/d35/structopenage_1_1coord_1_1camhud__delta" kindref="compound">coord::camhud_delta</ref>{d.second.x,<sp/>d.second.y};</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d.first-&gt;sample(coord,<sp/>draw_pos<sp/>+<sp/>dlt,<sp/>color);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>draw<sp/>texture</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1ab73fc25e6c0bf70e46bfa1367cfa8214" kindref="member">draw_this</ref>)<sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>-&gt;<ref refid="d4/d5b/classopenage_1_1_texture_1a0bb8ecfa34c39de191c45b95139da3ed" kindref="member">draw</ref>(coord,<sp/>draw_pos,<sp/><ref refid="da/d23/namespaceopenage_1a1345d2b9c7e4136c640ecd2f43acebff" kindref="member">PLAYERCOLORED</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>0,<sp/>color);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="60"><highlight class="normal">}</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62" refid="d9/d0c/classopenage_1_1_unit_texture_1acd15e688a5bce0b7e7268e90bb9affdd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1acd15e688a5bce0b7e7268e90bb9affdd" kindref="member">UnitTexture::draw</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="de/db5/classopenage_1_1coord_1_1_coord_manager" kindref="compound">coord::CoordManager</ref><sp/>&amp;<ref refid="d0/d3c/namespaceopenage_1_1coord_1_1tests_1ab5f6aa805a24bd58eb365e5af294d807" kindref="member">coord</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d6/d80/structopenage_1_1coord_1_1camgame" kindref="compound">coord::camgame</ref><sp/>&amp;draw_pos,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>frame,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="d2/d2b/namespaceopenage_1_1texturefont__shader_1a82374b732aa3c4123fee88dc25508564" kindref="member">color</ref>)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>draw<sp/>delta<sp/>list<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;d<sp/>:<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a46b37c628ef85eb1b8471510b15c9aee" kindref="member">deltas</ref>)<sp/>{</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d.first-&gt;draw(coord,<sp/>draw_pos<sp/>+<sp/>d.second,<sp/>frame,<sp/>color);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>draw<sp/>texture</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1ab73fc25e6c0bf70e46bfa1367cfa8214" kindref="member">draw_this</ref>)<sp/>{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>to_draw<sp/>=<sp/>frame<sp/>%<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>-&gt;<ref refid="d4/d5b/classopenage_1_1_texture_1a4548b2bc3eb5310a97deee94ab536035" kindref="member">get_subtexture_count</ref>();</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>-&gt;<ref refid="d4/d5b/classopenage_1_1_texture_1a0bb8ecfa34c39de191c45b95139da3ed" kindref="member">draw</ref>(coord,<sp/>draw_pos,<sp/><ref refid="da/d23/namespaceopenage_1a1345d2b9c7e4136c640ecd2f43acebff" kindref="member">PLAYERCOLORED</ref>,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>to_draw,<sp/>color);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="74"><highlight class="normal">}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="d9/d0c/classopenage_1_1_unit_texture_1ae0fe182788f2f7b1f346abf32cbac39a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1acd15e688a5bce0b7e7268e90bb9affdd" kindref="member">UnitTexture::draw</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="de/db5/classopenage_1_1coord_1_1_coord_manager" kindref="compound">coord::CoordManager</ref><sp/>&amp;<ref refid="d0/d3c/namespaceopenage_1_1coord_1_1tests_1ab5f6aa805a24bd58eb365e5af294d807" kindref="member">coord</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d6/d80/structopenage_1_1coord_1_1camgame" kindref="compound">coord::camgame</ref><sp/>&amp;draw_pos,<sp/><ref refid="d4/d49/structopenage_1_1coord_1_1phys3__delta" kindref="compound">coord::phys3_delta</ref><sp/>&amp;dir,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>frame,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="d2/d2b/namespaceopenage_1_1texturefont__shader_1a82374b732aa3c4123fee88dc25508564" kindref="member">color</ref>)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>frame_to_use<sp/>=<sp/>frame;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1af69c776830224e224867110f6b522cbd" kindref="member">use_up_angles</ref>)<sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>up<sp/><sp/>1<sp/>=&gt;<sp/>tilt<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>up<sp/>-1<sp/>=&gt;<sp/>tilt<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>up<sp/>has<sp/>a<sp/>scale<sp/>5<sp/>times<sp/>smaller</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>len<sp/>=<sp/><ref refid="df/dc9/namespaceopenage_1_1math_1a29c55215e73408c49f2654261fd73d8e" kindref="member">math::hypot3</ref>(dir.ne.to_double(),<sp/>dir.se.to_double(),<sp/>dir.up.to_double()/5);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>up<sp/>=<sp/>dir.up.to_double()/(5.0<sp/>*<sp/>len);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frame_to_use<sp/>=<sp/>(0.5<sp/>-<sp/>(0.5<sp/>*<sp/>up))<sp/>*<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a5d5ceeca83c640f1965341eb304d2dbe" kindref="member">frame_count</ref>;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1aa56a7948cc4664b188b54e29a5379419" kindref="member">sound</ref><sp/>&amp;&amp;<sp/>frame<sp/>==<sp/>0.0)<sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1aa56a7948cc4664b188b54e29a5379419" kindref="member">sound</ref>-&gt;<ref refid="d6/d57/classopenage_1_1_sound_1a526acd600cd69f6f421a253fc169398b" kindref="member">play</ref>();</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>index<sp/>for<sp/>the<sp/>current<sp/>direction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>angle<sp/>=<sp/><ref refid="da/d23/namespaceopenage_1ad019d95177e6ab646a2d239e4ec3daa7" kindref="member">dir_group</ref>(dir,<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a1bc3f091f4aeceb7ba09ac0699ba5640" kindref="member">angle_count</ref>);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>mirroring<sp/>is<sp/>used<sp/>to<sp/>make<sp/>additional<sp/>image<sp/>sets</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>mirror<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a8a00b125b8948b3d35ed4ee3b0261263" kindref="member">angles_included</ref><sp/>&lt;=<sp/>angle)<sp/>{</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this-&gt;angles_included<sp/>&lt;=<sp/>angle<sp/>&lt;<sp/>this-&gt;angle_count</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>angle<sp/>=<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a9e567666c41e6833e544d01d95a59fdd" kindref="member">top_frame</ref><sp/>-<sp/>angle;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mirror<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>draw<sp/>delta<sp/>list<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;d<sp/>:<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a46b37c628ef85eb1b8471510b15c9aee" kindref="member">deltas</ref>)<sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d.first-&gt;draw(coord,<sp/>draw_pos<sp/>+<sp/>d.second,<sp/>dir,<sp/>frame,<sp/>color);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1ab73fc25e6c0bf70e46bfa1367cfa8214" kindref="member">draw_this</ref>)<sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>to_draw<sp/>=<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a7fad704b779a60bf744ee6b91ba6d6a2" kindref="member">subtexture</ref>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>,<sp/>angle,<sp/>frame_to_use);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>-&gt;<ref refid="d4/d5b/classopenage_1_1_texture_1a0bb8ecfa34c39de191c45b95139da3ed" kindref="member">draw</ref>(coord,<sp/>draw_pos,<sp/><ref refid="da/d23/namespaceopenage_1a1345d2b9c7e4136c640ecd2f43acebff" kindref="member">PLAYERCOLORED</ref>,<sp/>mirror,<sp/>to_draw,<sp/>color);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal">}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="d9/d0c/classopenage_1_1_unit_texture_1a74f56948004978ef96508c6486b34430" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a74f56948004978ef96508c6486b34430" kindref="member">UnitTexture::initialise</ref>(<ref refid="de/d6a/classopenage_1_1_game_spec" kindref="compound">GameSpec</ref><sp/>&amp;spec)<sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref><sp/>=<sp/>spec.<ref refid="de/d6a/classopenage_1_1_game_spec_1a949e9f7d9b1017a7f399c55a2bd60c9a" kindref="member">get_texture</ref>(this-&gt;</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1aa56a7948cc4664b188b54e29a5379419" kindref="member">sound</ref><sp/>=<sp/>spec.<ref refid="de/d6a/classopenage_1_1_game_spec_1a1b83c8dcc455fd32056c418a993eb506" kindref="member">get_sound</ref>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a1fe7033557f83325f51cf96b9cdeb378" kindref="member">sound_id</ref>);</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(not<sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a6aa00a6381fb4b555f989f1bfcfd9c7a" kindref="member">is_valid</ref>())<sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1ab73fc25e6c0bf70e46bfa1367cfa8214" kindref="member">draw_this</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>find<sp/>deltas</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1ad196a81adcf43745f04514e417bb93fa" kindref="member">use_deltas</ref>)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>d<sp/>:<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a12ccd7b2560aee281da63987871aead1" kindref="member">delta_id</ref>)<sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(spec.<ref refid="de/d6a/classopenage_1_1_game_spec_1aa1f8784ca6aab9da489457d22b386443" kindref="member">get_graphic_data</ref>(d.graphic_id))<sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>ut<sp/>=<sp/>std::make_unique&lt;UnitTexture&gt;(spec,<sp/>d.graphic_id,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ut-&gt;is_valid())<sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a46b37c628ef85eb1b8471510b15c9aee" kindref="member">deltas</ref>.push_back({<ref refid="da/d23/namespaceopenage_1a7278b1c0b8d94d06da155b0b693b2828a3734a903022249b3010be1897042568e" kindref="member">std::move</ref>(ut),<sp/><ref refid="d5/d40/structopenage_1_1coord_1_1camgame__delta" kindref="compound">coord::camgame_delta</ref>{d.offset_x,<sp/>d.offset_y}});</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1ab73fc25e6c0bf70e46bfa1367cfa8214" kindref="member">draw_this</ref>)<sp/>{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>graphic<sp/>frame<sp/>count<sp/>includes<sp/>deltas</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>subtextures<sp/>=<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a2d2c675bc5530bea37d2bb94783ea5ba" kindref="member">texture</ref>-&gt;<ref refid="d4/d5b/classopenage_1_1_texture_1a4548b2bc3eb5310a97deee94ab536035" kindref="member">get_subtexture_count</ref>();</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(subtextures<sp/>&gt;=<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a5d5ceeca83c640f1965341eb304d2dbe" kindref="member">frame_count</ref>)<sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>angles<sp/>with<sp/>graphic<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a8a00b125b8948b3d35ed4ee3b0261263" kindref="member">angles_included</ref><sp/>=<sp/>subtextures<sp/>/<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a5d5ceeca83c640f1965341eb304d2dbe" kindref="member">frame_count</ref>;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a525921d5d14a1c894b50e96857a5f1a1" kindref="member">angles_mirrored</ref><sp/>=<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a1bc3f091f4aeceb7ba09ac0699ba5640" kindref="member">angle_count</ref><sp/>-<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a8a00b125b8948b3d35ed4ee3b0261263" kindref="member">angles_included</ref>;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a9ffbd182e533b66d58b6dec274b1968c" kindref="member">safe_frame_count</ref><sp/>=<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a5d5ceeca83c640f1965341eb304d2dbe" kindref="member">frame_count</ref>;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a8a00b125b8948b3d35ed4ee3b0261263" kindref="member">angles_included</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a525921d5d14a1c894b50e96857a5f1a1" kindref="member">angles_mirrored</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a9ffbd182e533b66d58b6dec274b1968c" kindref="member">safe_frame_count</ref><sp/>=<sp/>subtextures;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>find<sp/>the<sp/>top<sp/>direction<sp/>for<sp/>mirroring<sp/>over</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a9e567666c41e6833e544d01d95a59fdd" kindref="member">top_frame</ref><sp/>=<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a1bc3f091f4aeceb7ba09ac0699ba5640" kindref="member">angle_count</ref><sp/>-<sp/>(1<sp/>-<sp/>(this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a8a00b125b8948b3d35ed4ee3b0261263" kindref="member">angles_included</ref><sp/>-<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a525921d5d14a1c894b50e96857a5f1a1" kindref="member">angles_mirrored</ref>)<sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="149"><highlight class="normal">}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151" refid="d9/d0c/classopenage_1_1_unit_texture_1a7fad704b779a60bf744ee6b91ba6d6a2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="d9/d0c/classopenage_1_1_unit_texture_1a7fad704b779a60bf744ee6b91ba6d6a2" kindref="member">UnitTexture::subtexture</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d4/d5b/classopenage_1_1_texture" kindref="compound">Texture</ref><sp/>*t,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>angle,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>frame)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tex_frames<sp/>=<sp/>t-&gt;<ref refid="d4/d5b/classopenage_1_1_texture_1a4548b2bc3eb5310a97deee94ab536035" kindref="member">get_subtexture_count</ref>();</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>count<sp/>=<sp/>tex_frames<sp/>/<sp/>this-&gt;<ref refid="d9/d0c/classopenage_1_1_unit_texture_1a8a00b125b8948b3d35ed4ee3b0261263" kindref="member">angles_included</ref>;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>to_draw<sp/>=<sp/>angle<sp/>*<sp/>count<sp/>+<sp/>(frame<sp/>%<sp/>count);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tex_frames<sp/>&lt;=<sp/>to_draw)<sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dd/d1a/namespaceopenage_1_1log_1a0eff614e7d6e818746700ed9d29e583f" kindref="member">log::log</ref>(<ref refid="d2/d0d/message_8h_1a8adfad4f54eb306fbb8aaa1b159608a5" kindref="member">MSG</ref>(<ref refid="dd/d1a/namespaceopenage_1_1log_1ab6b4b10be67af93ab6c4d5a36139736e" kindref="member">err</ref>)<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Subtexture<sp/>out<sp/>of<sp/>range<sp/>(&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>angle<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>frame<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>to_draw;</highlight></codeline>
<codeline lineno="160"><highlight class="normal">}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162" refid="da/d23/namespaceopenage_1ad019d95177e6ab646a2d239e4ec3daa7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="da/d23/namespaceopenage_1ad019d95177e6ab646a2d239e4ec3daa7" kindref="member">dir_group</ref>(<ref refid="d4/d49/structopenage_1_1coord_1_1phys3__delta" kindref="compound">coord::phys3_delta</ref><sp/>dir,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>angles)<sp/>{</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>first_angle<sp/>=<sp/>5<sp/>*<sp/>angles<sp/>/<sp/>8;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>normalise<sp/>direction<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>len<sp/>=<sp/><ref refid="d8/dcc/namespacestd_1a8058d6b15a78f7a977945ee4d62de903" kindref="member">std::hypot</ref>(dir.ne,<sp/>dir.se);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dir_ne<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">double</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(dir.ne)<sp/>/<sp/>len;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dir_se<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">double</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(dir.se)<sp/>/<sp/>len;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>formula<sp/>to<sp/>find<sp/>the<sp/>correct<sp/>angle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>round(angles<sp/>*<sp/>atan2(dir_se,<sp/>dir_ne)<sp/>*<sp/>(<ref refid="df/dc9/namespaceopenage_1_1math_1a3cf46ecc6a97a0260c993da19c30db86" kindref="member">math::INV_PI</ref><sp/>/<sp/>2))</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>first_angle</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>%<sp/>angles;</highlight></codeline>
<codeline lineno="175"><highlight class="normal">}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>openage</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/mnt/c/Users/Jameson/Desktop/git/openage-new-doc-system/libopenage/unit/unit_texture.cpp"/>
  </compounddef>
</doxygen>
