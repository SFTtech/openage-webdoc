

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Nyan Quickstart Guide for AoE2 modders &mdash; openage v0.4.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> openage
          

          
            
            <img src="../../../../../_static/banner.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/installation/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/installation/basic_installation.html">Basic Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/basic_installation.html#linux-installation">Linux Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/basic_installation.html#windows-installation">Windows Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/basic_installation.html#macos-installation">macOS Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/installation/building.html">Building from Source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/building.html">Building the project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/build_instructions/index.html">Dependency installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/installation/platform_support.html">Platform Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/platform_support.html#continuous-integration-targets">Continuous Integration Targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/platform_support.html#other-platforms">Other Platforms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/troubleshooting.html#windows-installer">Windows Installer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/troubleshooting.html#asset-conversion">Asset Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/troubleshooting.html#ingame">Ingame</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/index.html">Handbooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-user/index.html">User handbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-user/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-user/tutorial.html">Tutorials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-mod/index.html">Modding handbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-mod/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-mod/concepts.html">Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/assets_conversion.html">Assets &amp; Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/index.html">nyan - Entity-Component-System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/reverse_engineering.html">Reverse Engineering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/ideas/index.html">Ideas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-mod/tutorial.html">Tutorials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/index.html">Developing handbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/concepts.html">Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/code_style.html">Code-style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/code/index.html">Code documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/index.html">nyan - Entity-Component-System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/assets_conversion.html">Assets &amp; Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/reverse_engineering.html">Reverse Engineering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/ideas/index.html">Ideas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/tutorial.html">Tutorials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/reference/index.html">References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/nyan/api_reference/index.html">API reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_ability.html">engine.ability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_aux.html">engine.aux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_effect.html">engine.effect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_modifier.html">engine.modifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_resistance.html">engine.resistance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_root.html">engine.root</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/reference/doxygen.html">openage c++/python reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/whatsnew.html">What’s new?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/changelogs.html">Changelogs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../changelog.html">Changelog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/changelogs/engine/index.html">Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/changelogs/nyan_api/index.html">Nyan API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/releasenotes.html">Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html">0.4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id2">0.3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id5">0.2.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id8">0.2.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id11">0.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id14">0.2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id17">0.1.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id20">0.0.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../README.html">openage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#contact">Contact</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#technical-foundation">Technical foundation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#goals">Goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#current-state-of-the-project">Current State of the Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#installation-packages">Installation Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#dependencies-building-and-running">Dependencies, Building and Running</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#contributing">Contributing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#development-process">Development Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/README.html">Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/README.html#static-docs">Static Docs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/README.html#dynamic-docs">Dynamic Docs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/status.html">openage status</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/status.html#the-list-must-grow">The list must grow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/status.html#working-features">Working features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/status.html#missing-functionality">Missing functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/status.html#under-the-hood">Under the hood</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/milestones.html">Milestones</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">openage</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
      <li>Nyan Quickstart Guide for AoE2 modders</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../_sources/.bin/openage-modding-external/source/tutorials/nyan/quickstart_guide.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nyan-quickstart-guide-for-aoe2-modders">
<h1>Nyan Quickstart Guide for AoE2 modders<a class="headerlink" href="#nyan-quickstart-guide-for-aoe2-modders" title="Permalink to this headline">¶</a></h1>
<p>The data definition we use for openage is vastly different from the system used in Age of Empires and the Genie Engine. For describing our game data we utilize <strong>nyan</strong>. nyan allows extensive moddability while still being understandable for humans. If you are familiar with YAML or JSON, you will probably spot many similarities. But even if you don’t, there’s no need to worry just yet. This guide will teach you the basics of nyan and the underlying principles.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Nyan manages the configuration of our game entities. For that purpose it provides the following features:</p>
<p><strong>Human-readable plain-text modding</strong>: Everything in the game data files is editable without the need for binary extraction. You just require a text editor. For those of you who are scared of text editors, additional helper tools will be made available.</p>
<p><strong>Object-oriented</strong>: Game entities are defined as objects with multiple key-value pairs.</p>
<p><strong>Inheritance</strong>: Objects can inherit from other objects instead of redefining everything for a minor change.</p>
<p><strong>Easy modification through patches</strong>: Objects are not static in nyan. They can be modified indefinitely by patching their attributes.</p>
<p><strong>Optimized mod-combination</strong>: Because every object has a unique identifier, mods can easily reference each others data. Of course, data from Age of Empires 2 is no exception as it will simply be treated as one of many modpack.</p>
<p>nyan is only used for the <em>definition</em> and <em>composition</em> of game data. Everything concerning <em>behaviour</em>, e.g. what, when, how and if objects are handled, is done by the openage engine or can be implemented with our Scripting API (coming soon).</p>
</div>
<div class="section" id="data-types">
<h2>Data types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<p>nyan has two basic data types, <strong>objects</strong> and <strong>patches</strong>.</p>
<ul class="simple">
<li><p>Objects define the attributes, abilities and hierarchy of any game entity. Abilities themselves are also defined as objects. Objects can inherit from multiple other objects. Examples for objects would be first tier buildings, first tier units, trees, animals and the relic.</p></li>
<li><p>Patches only change attributes, abilities and hierarchy of game entities. A patch always requires a target which can be an object or a patch. Patches can inherit from multiple other patches if they have the same target. Objects can also gain new inheritance parents through applying a patch. In the AoE2 modpack patches would include research, all unit upgrades and stats adjustment.</p></li>
</ul>
</div>
<div class="section" id="unit-upgrades-in-nyan">
<h2>Unit upgrades in nyan<a class="headerlink" href="#unit-upgrades-in-nyan" title="Permalink to this headline">¶</a></h2>
<p>In AoE2 all units are defined as separate objects. From the viewpoint of the Genie Engine upgrading a unit to a higher tier <em>replaces</em> every old unit with a new one. Beecause of this replacement stragety, stat upgrades from the Blacksmith, civ boni and unique techs have to be applied globally. This means they either have to affect every unit in a certain unit class or none of the units.</p>
<p>With nyan only the first tier of a unit class is defined as an object. Every upgrade will be done through patches. For example, the first tier in the spearman line (Spearman) will be defined as an object, while the “Pikeman” upgrade will only be a patch for the Spearman. In simpler words: The Pikeman will not be a separate unit in nyan!</p>
<p>Although this might sound unintuitive at first, it provides several advantages:</p>
<ul class="simple">
<li><p>In AoE2 it’s all or nothing, upgrades always affect every unit of a tier. nyan allows individual units to be upgraded. This makes game mechanics like stat upgrades through leveling possible.</p></li>
<li><p>The replacement strategy leads to another problem: Objects that are already deployed on the battlefield have to be replaced correctly. Converted units <a class="reference external" href="https://youtu.be/_gjpDWfzaM0?t=2m6s">are known for having problems with that</a>. With nyan, no replacement for objects is needed. Animations, stats and abilities can be upgraded on-the-fly.</p></li>
<li><p>Patches can be applied multiple times and are not necessarily tied to a Tech. Their activation just has to be scripted.</p></li>
<li><p>Patches can be applied to other patches. With this method mods or custom game modes can increase or decrease the effects of Techs without having to manipulate the base game files.</p></li>
</ul>
</div>
<div class="section" id="objects">
<h2>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h2>
<p>An object’s definition looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TentacleMonster</span><span class="p">(</span><span class="n">Unit</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Splortsch&quot;</span>
    <span class="n">hp</span> <span class="o">=</span> <span class="mi">2000</span>
</pre></div>
</div>
<p>In openage objects do not have IDs and are referenced by the human-readable identifier (also called <em>fqon</em>). In this example the identifier is <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code>. <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code> inherits values from another object <code class="docutils literal notranslate"><span class="pre">Unit</span></code> which is written in parentheses.</p>
<p>The two indented key-value pairs (called <em>members</em> in nyan) are the attributes of our object. A member called <code class="docutils literal notranslate"><span class="pre">name</span></code> with a text value <code class="docutils literal notranslate"><span class="pre">&quot;Splortsch&quot;</span></code> and the member <code class="docutils literal notranslate"><span class="pre">hp</span></code> with an integer value of <code class="docutils literal notranslate"><span class="pre">2000</span></code>. An object can have an unlimited number of members. Members support several primitive types such as text, integers, floats, boolean values, file references, sets, ordered sets and dicts. They can also reference other nyan objects.</p>
</div>
<div class="section" id="patches">
<h2>Patches<a class="headerlink" href="#patches" title="Permalink to this headline">¶</a></h2>
<p>The patch syntax looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AdvancedTentacleMonster</span><span class="o">&lt;</span><span class="n">TentacleMonster</span><span class="o">&gt;</span><span class="p">():</span>
    <span class="n">hp</span> <span class="o">+=</span> <span class="mi">500</span>
</pre></div>
</div>
<p>The syntax of patches is very similar to the objects’ notation. In addition to the identifier (<code class="docutils literal notranslate"><span class="pre">AdvancedTentacleMonster</span></code>) there is a target <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code> which is written in angled brackets. Therefore, we know that <code class="docutils literal notranslate"><span class="pre">AdvancedTentacleMonster</span></code> changes members of <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code>.</p>
<p>As mentioned before, a patch cannot add new members to the target object. It can only change ones that are already defined. You can choose to change only a subset of the members like in our example where we only change the member <code class="docutils literal notranslate"><span class="pre">hp</span></code>. The operator <code class="docutils literal notranslate"><span class="pre">+=</span></code> indicates that the value of <code class="docutils literal notranslate"><span class="pre">hp</span></code> is increased by 500. When the patch is applied, <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code> will have 2500 hp. If it’s applied a second time, <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code> will have 3000 hp.</p>
<p>Several more operators exist for operations such as substraction <code class="docutils literal notranslate"><span class="pre">-=</span></code>, multiplication <code class="docutils literal notranslate"><span class="pre">*=</span></code>, division <code class="docutils literal notranslate"><span class="pre">/=</span></code> and others.</p>
</div>
<div class="section" id="creating-a-tech">
<h2>Creating a tech<a class="headerlink" href="#creating-a-tech" title="Permalink to this headline">¶</a></h2>
<p>The previously defined patch describes the changes to the <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code>, but that is not enough to create a tech. Usually techs require a name and have a cost, so we want to define that information as well. The solution is simple: We will create a Tech Object that references our patch.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BiggerTentacleTech</span><span class="p">(</span><span class="n">Tech</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Big Tentacle&quot;</span>
    <span class="n">cost</span> <span class="o">=</span> <span class="p">{</span><span class="n">Slime</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="n">Love</span><span class="p">:</span> <span class="mi">200</span><span class="p">}</span>
    <span class="n">updates</span> <span class="o">=</span> <span class="p">{</span><span class="n">AdvancedTentacleMonster</span><span class="p">}</span>
</pre></div>
</div>
<p>We have now created a new object called <code class="docutils literal notranslate"><span class="pre">BiggerTentacleTech</span></code> that inherits from <code class="docutils literal notranslate"><span class="pre">Tech</span></code> and has the members <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">cost</span></code> and <code class="docutils literal notranslate"><span class="pre">updates</span></code>. <code class="docutils literal notranslate"><span class="pre">name</span></code> has a text value with the name of our technology. <code class="docutils literal notranslate"><span class="pre">cost</span></code> is a dictionary which denotes the resource cost of the research. In this case, researching costs 50 slime and 200 love. We also referenced the patch in the member <code class="docutils literal notranslate"><span class="pre">updates</span></code>. <code class="docutils literal notranslate"><span class="pre">updates</span></code> is a set-member and can therefore theoretically hold more than one patch. This way you can bundle several patches together.</p>
</div>
<div class="section" id="nyan-and-the-openage-engine">
<h2>Nyan and the openage engine<a class="headerlink" href="#nyan-and-the-openage-engine" title="Permalink to this headline">¶</a></h2>
<p>As we have established before, nyan only defines our data and handling has to be done by the engine. We will now give some examples of the tasks the engine will do and how they relate to the definition written in nyan. Before we begin, it is important to stress that processing nyan objects in the engine (e.g. through patching) never (!) changes the files on disk. During a game the engine keeps its own database of runtime objects. nyan merely acts as a provider of information that is accessed by the engine when necessary.</p>
<p>Things that are tracked by the engine include:</p>
<ul class="simple">
<li><p><strong>Current HP</strong>: The engine keeps track of the current HP of a unit. In nyan we would only define the maximum HP.</p></li>
<li><p><strong>Ownership</strong>: Who owns a specific unit or object is saved in the engine’s own database. Change of ownership, e.g. through conversion, is also decided by the engine.</p></li>
<li><p><strong>Patch History</strong>: The engine knows when and how often a patch was applied to a specific unit or which of the units are patched. It can also revert a patch if necessary. nyan only knows the contents of a patch and the potential targets.</p></li>
</ul>
<p>Even though nyan only defines data, that doesn’t mean you have to program the behaviour for every new unit by yourself. The engine provides standard functionality for units, buildings, techs and abilities. For example, a new object that inherits from <code class="docutils literal notranslate"><span class="pre">Unit()</span></code> in nyan will be treated like every other unit by the engine. Specifics for standard behaviour is discussed in the more detailed guides (coming soon). If you want your units to do something slightly different than what is defined in the engine, you can usually utiize the Scripting API. Of course, you can also suggest new gamelogic features to us or implement them yourself so they will become available for everyone that uses the engine.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2019 openage-Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>