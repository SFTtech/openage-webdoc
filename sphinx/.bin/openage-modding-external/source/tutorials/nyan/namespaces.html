

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Namespaces &mdash; openage v0.4.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> openage
          

          
            
            <img src="../../../../../_static/banner.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/installation/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/installation/basic_installation.html">Basic Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/basic_installation.html#linux-installation">Linux Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/basic_installation.html#windows-installation">Windows Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/basic_installation.html#macos-installation">macOS Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/installation/building.html">Building from Source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/building.html">Building the project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/build_instructions/index.html">Dependency installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/installation/platform_support.html">Platform Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/platform_support.html#continuous-integration-targets">Continuous Integration Targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/installation/platform_support.html#other-platforms">Other Platforms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/troubleshooting.html#windows-installer">Windows Installer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/troubleshooting.html#asset-conversion">Asset Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/troubleshooting.html#ingame">Ingame</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/index.html">Handbooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-user/index.html">User handbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-user/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-user/tutorial.html">Tutorials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-mod/index.html">Modding handbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-mod/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-mod/concepts.html">Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/assets_conversion.html">Assets &amp; Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/index.html">nyan - Entity-Component-System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/reverse_engineering.html">Reverse Engineering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/ideas/index.html">Ideas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-mod/tutorial.html">Tutorials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/index.html">Developing handbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/concepts.html">Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/code_style.html">Code-style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/code/index.html">Code documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/index.html">nyan - Entity-Component-System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/assets_conversion.html">Assets &amp; Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/reverse_engineering.html">Reverse Engineering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/ideas/index.html">Ideas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/sphinx/handbooks/handbook-dev/tutorial.html">Tutorials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/reference/index.html">References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/nyan/api_reference/index.html">API reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_ability.html">engine.ability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_aux.html">engine.aux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_effect.html">engine.effect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_modifier.html">engine.modifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_resistance.html">engine.resistance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/nyan/api_reference/reference_root.html">engine.root</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/reference/doxygen.html">openage c++/python reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/whatsnew.html">What’s new?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/changelogs.html">Changelogs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../changelog.html">Changelog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/changelogs/engine/index.html">Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/changelogs/nyan_api/index.html">Nyan API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/sphinx/releasenotes.html">Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html">0.4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id2">0.3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id5">0.2.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id8">0.2.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id11">0.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id14">0.2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id17">0.1.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../releasenotes.html#id20">0.0.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/sphinx/about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../README.html">openage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#contact">Contact</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#technical-foundation">Technical foundation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#goals">Goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#current-state-of-the-project">Current State of the Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#installation-packages">Installation Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#dependencies-building-and-running">Dependencies, Building and Running</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#contributing">Contributing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#development-process">Development Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../README.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/README.html">Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/README.html#static-docs">Static Docs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/README.html#dynamic-docs">Dynamic Docs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/status.html">openage status</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/status.html#the-list-must-grow">The list must grow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/status.html#working-features">Working features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/status.html#missing-functionality">Missing functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../doc/status.html#under-the-hood">Under the hood</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../doc/milestones.html">Milestones</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">openage</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
      <li>Namespaces</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../_sources/.bin/openage-modding-external/source/tutorials/nyan/namespaces.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="namespaces">
<h1>Namespaces<a class="headerlink" href="#namespaces" title="Permalink to this headline">¶</a></h1>
<p>So far our examples only covered a few objects at a time. In practice, games or ambitious mods can require hundreds or even thousands of different objects. Ideally these should not be put into a single file, but organized in several files which are sorted into a sane folder structure themselves. That begs the question how one can reference an object that is declared in another file somewhere else in the modpack. As you probably guessed, the answer is <em>namespaces</em>.</p>
<div class="section" id="spreading-objects-across-files">
<h2>Spreading objects across files<a class="headerlink" href="#spreading-objects-across-files" title="Permalink to this headline">¶</a></h2>
<p>The engine will automatically assume that a file with the ending <code class="docutils literal notranslate"><span class="pre">.nyan</span></code> (nyan file) contains nyan objects. Modders can choose freely how they want to organize the folder structure of their modpack and which objects are put in which nyan files. Each nyan file creates a <em>namespace</em> that is derived from the file’s path and name. Objects in the file are all part of the same namespace.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tentaclemod</span>
<span class="o">|--</span><span class="n">buildings</span>
<span class="o">|--</span><span class="n">units</span>
   <span class="o">|--</span><span class="n">monster</span><span class="o">.</span><span class="n">nyan</span>
      <span class="o">...</span>

<span class="c1"># filename: tentaclemod/units/monster.nyan</span>
<span class="c1"># namespace: tentaclemod.units.monster</span>
<span class="n">TentacleMonster</span><span class="p">():</span>
    <span class="n">hp</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="o">...</span>

<span class="n">TentacleUpgrade</span><span class="o">&lt;</span><span class="n">TentacleMonster</span><span class="o">&gt;</span><span class="p">():</span>
    <span class="n">hp</span> <span class="o">+=</span> <span class="mi">15</span>
    <span class="o">...</span>

<span class="n">MonsterHunter</span><span class="p">():</span>
    <span class="n">hp</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>In the above example the filepath is <code class="docutils literal notranslate"><span class="pre">tentaclemod/units/monster.nyan</span></code> which translates to the namespace <code class="docutils literal notranslate"><span class="pre">tentaclemod.units.monster</span></code>. The objects <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code>, <code class="docutils literal notranslate"><span class="pre">TentacleUpgrade</span></code> and <code class="docutils literal notranslate"><span class="pre">MonsterHunter</span></code> are part of this namespace.</p>
<div class="section" id="fully-qualified-object-name">
<h3>Fully qualified object name<a class="headerlink" href="#fully-qualified-object-name" title="Permalink to this headline">¶</a></h3>
<p>Objects can be referenced from anywhere using the <em>fully qualified object name</em> (fqon). The fqon is a combination of the namespace and the object name. Given the previous example, the object <code class="docutils literal notranslate"><span class="pre">TentacleMonster</span></code> in <code class="docutils literal notranslate"><span class="pre">monster.nyan</span></code> has the fqon <code class="docutils literal notranslate"><span class="pre">tentaclemod.units.monster.TentacleMonster</span></code>. This also allows referencing objects in other mods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ageofempires2</span>
<span class="o">|--</span><span class="n">buildings</span>
<span class="o">|--</span><span class="n">units</span>
   <span class="o">|--</span><span class="n">spearman</span><span class="o">.</span><span class="n">nyan</span>

<span class="c1"># filename: ageofempires2/units/spearman.nyan</span>
<span class="c1"># namespace: ageofempires2.units.spearman</span>

<span class="n">Spearman</span><span class="p">():</span>
    <span class="n">hp</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">speed</span> <span class="o">=</span> <span class="mf">2.0</span>
    <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spearmod</span>
<span class="o">|--</span><span class="n">units</span>
   <span class="o">|--</span><span class="n">spearman</span><span class="o">.</span><span class="n">nyan</span>
      <span class="o">...</span>

<span class="c1"># filename: spearmod/units/spearman.nyan</span>
<span class="c1"># namespace: spearmod.units.spearman</span>

<span class="c1"># This object inhherits from Spearman</span>
<span class="c1"># in namespace ageofempires2.units.spearman</span>
<span class="n">SuperSpearman</span><span class="p">(</span><span class="n">ageofempires2</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">spearman</span><span class="o">.</span><span class="n">Spearman</span><span class="p">):</span>
    <span class="n">hp</span> <span class="o">+=</span> <span class="mi">20</span>
    <span class="n">speed</span> <span class="o">+=</span> <span class="mf">0.5</span>
    <span class="o">...</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">SuperSpearman</span></code> inherits from <code class="docutils literal notranslate"><span class="pre">Spearman</span></code> in another mod. In this case the mod is the Age of Empires 2 base game, but user mods can also reference each other.</p>
<p>Because an fqon must be unique, objects in the same namespace must not have the same object name. However, objects in different namespaces are allowed to share the same object name.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ageofempires2</span>
<span class="o">|--</span><span class="n">buildings</span>
<span class="o">|--</span><span class="n">units</span>
   <span class="o">|--</span><span class="n">spearman</span><span class="o">.</span><span class="n">nyan</span>

<span class="c1"># filename: ageofempires2/units/spearman.nyan</span>
<span class="c1"># namespace: ageofempires2.units.spearman</span>

<span class="n">Spearman</span><span class="p">():</span>
    <span class="n">hp</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">speed</span> <span class="o">=</span> <span class="mf">2.0</span>
    <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">japaneseunitsmod</span>
<span class="o">|--</span><span class="n">units</span>
   <span class="o">|--</span><span class="n">spearman</span><span class="o">.</span><span class="n">nyan</span>
      <span class="o">...</span>

<span class="c1"># filename: japaneseunitsmod/units/spearman.nyan</span>
<span class="c1"># namespace: japaneseunitsmod.units.spearman</span>

<span class="c1"># Different spearman</span>
<span class="n">Spearman</span><span class="p">():</span>
    <span class="n">hp</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">speed</span> <span class="o">=</span> <span class="mf">1.5</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Above are two objects with the object name <code class="docutils literal notranslate"><span class="pre">Spearman</span></code>. Even though they are share the same name, their fqon stays unique. The spearman from Age of Empires 2 is referenced with the fqon <code class="docutils literal notranslate"><span class="pre">ageofempires2.units.spearman.Spearman</span></code>, while the one from the Japanese Units Mod has the fqon <code class="docutils literal notranslate"><span class="pre">japaneseunitsmod.units.spearman.Spearman</span></code>.</p>
</div>
</div>
<div class="section" id="importing">
<h2>Importing<a class="headerlink" href="#importing" title="Permalink to this headline">¶</a></h2>
<p>fqons tend to get very long depending on the file names and folder structure. To combat this problem, nyan allows to <em>import</em> a namespace under an alias.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ageofempires2</span>
<span class="o">|--</span><span class="n">buildings</span>
<span class="o">|--</span><span class="n">units</span>
   <span class="o">|--</span><span class="n">spearman</span><span class="o">.</span><span class="n">nyan</span>

<span class="n">Spearman</span><span class="p">():</span>
    <span class="n">hp</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">speed</span> <span class="o">=</span> <span class="mf">2.0</span>
    <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spearmod</span>
<span class="o">|--</span><span class="n">units</span>
   <span class="o">|--</span><span class="n">spearman</span><span class="o">.</span><span class="n">nyan</span>
      <span class="o">...</span>

<span class="kn">import</span> <span class="nn">ageofempires2.units.spearman</span> <span class="k">as</span> <span class="nn">basegame</span>

<span class="c1"># &#39;basegame&#39; is an alias for namespace &#39;ageofempires2.units.spearman&#39;</span>
<span class="n">SuperSpearman</span><span class="p">(</span><span class="n">basegame</span><span class="o">.</span><span class="n">Spearman</span><span class="p">):</span>
    <span class="n">hp</span> <span class="o">+=</span> <span class="mi">20</span>
    <span class="n">speed</span> <span class="o">+=</span> <span class="mf">0.5</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2019 openage-Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>